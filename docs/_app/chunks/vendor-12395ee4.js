var Gn=Object.defineProperty,zn=Object.defineProperties;var jn=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var $t=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;var Ot=(e,t,n)=>t in e?Gn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,le=(e,t)=>{for(var n in t||(t={}))$t.call(t,n)&&Ot(e,n,t[n]);if(Ae)for(var n of Ae(t))Ct.call(t,n)&&Ot(e,n,t[n]);return e},nt=(e,t)=>zn(e,jn(t));var Ht=(e,t)=>{var n={};for(var r in e)$t.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ae)for(var r of Ae(e))t.indexOf(r)<0&&Ct.call(e,r)&&(n[r]=e[r]);return n};function j(){}const Bn=e=>e;function Un(e,t){for(const n in t)e[n]=t[n];return e}function rn(e){return e()}function Ft(){return Object.create(null)}function xe(e){e.forEach(rn)}function vt(e){return typeof e=="function"}function qn(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Kn(e){return Object.keys(e).length===0}function Vn(e,...t){if(e==null)return j;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function la(e,t,n){e.$$.on_destroy.push(Vn(t,n))}function ca(e,t,n,r){if(e){const o=on(e,t,n,r);return e[0](o)}}function on(e,t,n,r){return e[1]&&r?Un(n.ctx.slice(),e[1](r(t))):n.ctx}function ua(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const a=[],i=Math.max(t.dirty.length,o.length);for(let l=0;l<i;l+=1)a[l]=t.dirty[l]|o[l];return a}return t.dirty|o}return t.dirty}function da(e,t,n,r,o,a){if(o){const i=on(t,n,r,a);e.p(i,o)}}function fa(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function pa(e){return e==null?"":e}function ma(e,t,n){return e.set(n),t}function ga(e){return e&&vt(e.destroy)?e.destroy:j}const an=typeof window!="undefined";let Jn=an?()=>window.performance.now():()=>Date.now(),wt=an?e=>requestAnimationFrame(e):j;const de=new Set;function sn(e){de.forEach(t=>{t.c(e)||(de.delete(t),t.f())}),de.size!==0&&wt(sn)}function Qn(e){let t;return de.size===0&&wt(sn),{promise:new Promise(n=>{de.add(t={c:e,f:n})}),abort(){de.delete(t)}}}let je=!1;function er(){je=!0}function tr(){je=!1}function nr(e,t,n,r){for(;e<t;){const o=e+(t-e>>1);n(o)<=r?e=o+1:t=o}return e}function rr(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const c=[];for(let d=0;d<t.length;d++){const m=t[d];m.claim_order!==void 0&&c.push(m)}t=c}const n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let o=0;for(let c=0;c<t.length;c++){const d=t[c].claim_order,m=(o>0&&t[n[o]].claim_order<=d?o+1:nr(1,o,s=>t[n[s]].claim_order,d))-1;r[c]=n[m]+1;const h=m+1;n[h]=c,o=Math.max(h,o)}const a=[],i=[];let l=t.length-1;for(let c=n[o]+1;c!=0;c=r[c-1]){for(a.push(t[c-1]);l>=c;l--)i.push(t[l]);l--}for(;l>=0;l--)i.push(t[l]);a.reverse(),i.sort((c,d)=>c.claim_order-d.claim_order);for(let c=0,d=0;c<i.length;c++){for(;d<a.length&&i[c].claim_order>=a[d].claim_order;)d++;const m=d<a.length?a[d]:null;e.insertBefore(i[c],m)}}function ln(e,t){e.appendChild(t)}function cn(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function or(e){const t=bt("style");return ar(cn(e),t),t.sheet}function ar(e,t){ln(e.head||e,t)}function ir(e,t){if(je){for(rr(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function ha(e,t,n){je&&!n?ir(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function un(e){e.parentNode.removeChild(e)}function Da(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function bt(e){return document.createElement(e)}function _t(e){return document.createTextNode(e)}function ya(){return _t(" ")}function va(){return _t("")}function kt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function wa(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function ba(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function sr(e){return Array.from(e.childNodes)}function lr(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function dn(e,t,n,r,o=!1){lr(e);const a=(()=>{for(let i=e.claim_info.last_index;i<e.length;i++){const l=e[i];if(t(l)){const c=n(l);return c===void 0?e.splice(i,1):e[i]=c,o||(e.claim_info.last_index=i),l}}for(let i=e.claim_info.last_index-1;i>=0;i--){const l=e[i];if(t(l)){const c=n(l);return c===void 0?e.splice(i,1):e[i]=c,o?c===void 0&&e.claim_info.last_index--:e.claim_info.last_index=i,l}}return r()})();return a.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,a}function cr(e,t,n,r){return dn(e,o=>o.nodeName===t,o=>{const a=[];for(let i=0;i<o.attributes.length;i++){const l=o.attributes[i];n[l.name]||a.push(l.name)}a.forEach(i=>o.removeAttribute(i))},()=>r(t))}function _a(e,t,n){return cr(e,t,n,bt)}function ur(e,t){return dn(e,n=>n.nodeType===3,n=>{const r=""+t;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>_t(t),!0)}function Ta(e){return ur(e," ")}function Ea(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function xa(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let Ie;function dr(){if(Ie===void 0){Ie=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{Ie=!0}}return Ie}function Pa(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=bt("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const o=dr();let a;return o?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=kt(window,"message",i=>{i.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{a=kt(r.contentWindow,"resize",t)}),ln(e,r),()=>{(o||a&&r.contentWindow)&&a(),un(r)}}function fr(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}const Me=new Map;let Oe=0;function pr(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function mr(e,t){const n={stylesheet:or(t),rules:{}};return Me.set(e,n),n}function gr(e,t,n,r,o,a,i,l=0){const c=16.666/r;let d=`{
`;for(let D=0;D<=1;D+=c){const w=t+(n-t)*a(D);d+=D*100+`%{${i(w,1-w)}}
`}const m=d+`100% {${i(n,1-n)}}
}`,h=`__svelte_${pr(m)}_${l}`,s=cn(e),{stylesheet:f,rules:v}=Me.get(s)||mr(s,e);v[h]||(v[h]=!0,f.insertRule(`@keyframes ${h} ${m}`,f.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${h} ${r}ms linear ${o}ms 1 both`,Oe+=1,h}function hr(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Oe-=o,Oe||Dr())}function Dr(){wt(()=>{Oe||(Me.forEach(e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}}),Me.clear())})}function Sa(e,t,n,r){if(!t)return j;const o=e.getBoundingClientRect();if(t.left===o.left&&t.right===o.right&&t.top===o.top&&t.bottom===o.bottom)return j;const{delay:a=0,duration:i=300,easing:l=Bn,start:c=Jn()+a,end:d=c+i,tick:m=j,css:h}=n(e,{from:t,to:o},r);let s=!0,f=!1,v;function g(){h&&(v=gr(e,0,1,i,a,l,h)),a||(f=!0)}function D(){h&&hr(e,v),s=!1}return Qn(w=>{if(!f&&w>=c&&(f=!0),f&&w>=d&&(m(1,0),D()),!s)return!1;if(f){const b=w-c,p=0+1*l(b/i);m(p,1-p)}return!0}),g(),m(0,1),D}function Aa(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:r}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,yr(e,o)}}function yr(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),o=r.transform==="none"?"":r.transform;e.style.transform=`${o} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let _e;function be(e){_e=e}function Be(){if(!_e)throw new Error("Function called outside component initialization");return _e}function Ia(e){Be().$$.on_mount.push(e)}function La(e){Be().$$.after_update.push(e)}function Ra(){const e=Be();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=fr(t,n);r.slice().forEach(a=>{a.call(e,o)})}}}function Na(e,t){Be().$$.context.set(e,t)}const we=[],Wt=[],Re=[],ct=[],fn=Promise.resolve();let ut=!1;function pn(){ut||(ut=!0,fn.then(mn))}function Za(){return pn(),fn}function dt(e){Re.push(e)}function Ma(e){ct.push(e)}const rt=new Set;let Le=0;function mn(){const e=_e;do{for(;Le<we.length;){const t=we[Le];Le++,be(t),vr(t.$$)}for(be(null),we.length=0,Le=0;Wt.length;)Wt.pop()();for(let t=0;t<Re.length;t+=1){const n=Re[t];rt.has(n)||(rt.add(n),n())}Re.length=0}while(we.length);for(;ct.length;)ct.pop()();ut=!1,rt.clear(),be(e)}function vr(e){if(e.fragment!==null){e.update(),xe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(dt)}}const Ne=new Set;let oe;function Oa(){oe={r:0,c:[],p:oe}}function $a(){oe.r||xe(oe.c),oe=oe.p}function gn(e,t){e&&e.i&&(Ne.delete(e),e.i(t))}function wr(e,t,n,r){if(e&&e.o){if(Ne.has(e))return;Ne.add(e),oe.c.push(()=>{Ne.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function br(e,t){wr(e,1,1,()=>{t.delete(e.key)})}function Ca(e,t){e.f(),br(e,t)}function Ha(e,t,n,r,o,a,i,l,c,d,m,h){let s=e.length,f=a.length,v=s;const g={};for(;v--;)g[e[v].key]=v;const D=[],w=new Map,b=new Map;for(v=f;v--;){const _=h(o,a,v),E=n(_);let T=i.get(E);T?r&&T.p(_,t):(T=d(E,_),T.c()),w.set(E,D[v]=T),E in g&&b.set(E,Math.abs(v-g[E]))}const p=new Set,y=new Set;function P(_){gn(_,1),_.m(l,m),i.set(_.key,_),m=_.first,f--}for(;s&&f;){const _=D[f-1],E=e[s-1],T=_.key,x=E.key;_===E?(m=_.first,s--,f--):w.has(x)?!i.has(T)||p.has(T)?P(_):y.has(x)?s--:b.get(T)>b.get(x)?(y.add(T),P(_)):(p.add(x),s--):(c(E,i),s--)}for(;s--;){const _=e[s];w.has(_.key)||c(_,i)}for(;f;)P(D[f-1]);return D}function Fa(e,t){const n={},r={},o={$$scope:1};let a=e.length;for(;a--;){const i=e[a],l=t[a];if(l){for(const c in i)c in l||(r[c]=1);for(const c in l)o[c]||(n[c]=l[c],o[c]=1);e[a]=l}else for(const c in i)o[c]=1}for(const i in r)i in n||(n[i]=void 0);return n}function ka(e){return typeof e=="object"&&e!==null?e:{}}function Wa(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Ya(e){e&&e.c()}function Xa(e,t){e&&e.l(t)}function _r(e,t,n,r){const{fragment:o,on_mount:a,on_destroy:i,after_update:l}=e.$$;o&&o.m(t,n),r||dt(()=>{const c=a.map(rn).filter(vt);i?i.push(...c):xe(c),e.$$.on_mount=[]}),l.forEach(dt)}function Tr(e,t){const n=e.$$;n.fragment!==null&&(xe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Er(e,t){e.$$.dirty[0]===-1&&(we.push(e),pn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ga(e,t,n,r,o,a,i,l=[-1]){const c=_e;be(e);const d=e.$$={fragment:null,ctx:null,props:a,update:j,not_equal:o,bound:Ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ft(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};i&&i(d.root);let m=!1;if(d.ctx=n?n(e,t.props||{},(h,s,...f)=>{const v=f.length?f[0]:s;return d.ctx&&o(d.ctx[h],d.ctx[h]=v)&&(!d.skip_bound&&d.bound[h]&&d.bound[h](v),m&&Er(e,h)),s}):[],d.update(),m=!0,xe(d.before_update),d.fragment=r?r(d.ctx):!1,t.target){if(t.hydrate){er();const h=sr(t.target);d.fragment&&d.fragment.l(h),h.forEach(un)}else d.fragment&&d.fragment.c();t.intro&&gn(e.$$.fragment),_r(e,t.target,t.anchor,t.customElement),tr(),mn()}be(c)}class za{$destroy(){Tr(this,1),this.$destroy=j}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Kn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ce=[];function ja(e,t=j){let n;const r=new Set;function o(l){if(qn(e,l)&&(e=l,n)){const c=!ce.length;for(const d of r)d[1](),ce.push(d,e);if(c){for(let d=0;d<ce.length;d+=2)ce[d][0](ce[d+1]);ce.length=0}}}function a(l){o(l(e))}function i(l,c=j){const d=[l,c];return r.add(d),r.size===1&&(n=t(o)||j),l(e),()=>{r.delete(d),r.size===0&&(n(),n=null)}}return{set:o,update:a,subscribe:i}}function xr(e){const t=e-1;return t*t*t+1}let Ba=(e,t=21)=>(n=t)=>{let r="",o=n;for(;o--;)r+=e[Math.random()*e.length|0];return r};var ot=Function("return this")();function Pr(e,t){return e==null||"hasOwnProperty"in e&&typeof e.hasOwnProperty=="function"?e.hasOwnProperty(t):Object.prototype.hasOwnProperty.call(e,t)}function M(e){var t=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(e);if(t==null)throw new Error(e);var n=new Error(t[2]);throw n.name=t[1],n}function Yt(e){return typeof e=="number"||e instanceof Number}function ft(e){return(typeof e=="number"||e instanceof Number)&&isFinite(e.valueOf())}function Sr(e){return typeof e!="number"&&!(e instanceof Number)?!1:(e=e.valueOf(),isFinite(e)&&Math.round(e)===e)}function Ar(e){return typeof e!="number"&&!(e instanceof Number)?!1:(e=e.valueOf(),isFinite(e)&&Math.round(e)===e&&e>=0)}function Tt(e){return typeof e=="string"||e instanceof String}var Ir=/^\s*$/;function ae(e){return(typeof e=="string"||e instanceof String)&&!Ir.test(e.valueOf())}function Et(e){return typeof e=="function"}function Lr(e){return e!=null&&typeof e=="object"}function Ue(e){return e!=null&&typeof e=="object"&&Object.getPrototypeOf(e)===Object.prototype}var Rr=Array.isArray;function Nr(e,t,n,r){if(Rr(e))try{for(var o=0,a=e.length;o<a;o++)if(t(e[o])==!1)return!1;return!(n!=null&&e.length<n||r!=null&&e.length>r)}catch{}return!1}function hn(e,t){return t.indexOf(e)>=0}var Dn=!1,De=!0;function Zr(e,t,n,r,o){if(t==null){if(r)return t;M("MissingArgument: no "+K(e)+" given")}else if(n(t))switch(!0){case t instanceof Boolean:case t instanceof Number:case t instanceof String:return t.valueOf();default:return t}else M("InvalidArgument: the given "+K(e)+" is no valid "+K(o))}function te(e,t,n){var r=function(i,l){return Zr(i,l,e,t,n)},o=e.name;if(o!=null&&/^ValueIs/.test(o)){var a=o.replace(/^ValueIs/,t?"allow":"expect");return Mr(r,a)}else return r}function Mr(e,t){if(e==null&&M("MissingArgument: no function given"),typeof e!="function"&&M("InvalidArgument: the given 1st Argument is not a JavaScript function"),t==null&&M("MissingArgument: no desired name given"),typeof t!="string"&&!(t instanceof String)&&M("InvalidArgument: the given desired name is not a string"),e.name===t)return e;try{if(Object.defineProperty(e,"name",{value:t}),e.name===t)return e}catch{}var n=new Function("originalFunction","return function "+t+" () {return originalFunction.apply(this,Array.prototype.slice.apply(arguments))}");return n(e)}var Or=te(ft,De,"finite numeric value"),U=Or,$r=te(Sr,Dn,"integral numeric value");function Cr(e,t,n,r){return t==null?t:kr(e,t,n,r)}var Hr=Cr;function Fr(e,t,n,r){if($r(e,t),isNaN(t)&&M("InvalidArgument: the given "+K(e)+" is not-a-number"),n!=null&&isFinite(n)){if(r!=null&&isFinite(r)){if(t<n||t>r)throw new RangeError("the given "+K(e)+" ("+t+") is outside "+("the allowed range ("+n+"..."+r+")"))}else if(t<n)throw new RangeError("the given "+K(e)+" is below the allowed "+("minimum ("+t+" < "+n+")"))}else if(r!=null&&isFinite(r)&&t>r)throw new RangeError("the given "+K(e)+" exceeds the allowed "+("maximum ("+t+" > "+r+")"));return t.valueOf()}var kr=Fr,Wr=te(Ar,De,"ordinal number"),fe=Wr,Yr=te(Tt,De,"literal string"),Xr=Yr,Gr=te(ae,De,"non-empty literal string"),Xt=Gr,zr=te(Et,De,"JavaScript function"),C=zr,jr=te(Lr,Dn,"JavaScript object"),yn=te(Ue,De,'"plain" JavaScript object'),$e=yn;function Br(e,t,n,r,o,a){return t==null?t:qr(e,t,n,r,o,a)}function Ur(e,t,n,r,o,a){if(t==null&&M("MissingArgument: no "+K(e)+" given"),Nr(t,n,o,a))return t;M("InvalidArgument: the given "+K(e)+" is "+(r==null?"either not a list or contains invalid elements":"no "+K(r)))}var qr=Ur;function K(e){var t=/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?/g,n=/[\x00-\x1f\x7f-\x9f]/g;return e.replace(t,function(r){return r==="\\"?"\\\\":r}).replace(n,function(r){switch(r){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v";default:{var o=r.charCodeAt(0).toString(16);return"\\x"+"00".slice(o.length)+o}}})}function Kr(e,t){t===void 0&&(t='"');var n=/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|'/g,r=/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|"/g,o=/[\x00-\x1f\x7f-\x9f]/g;return e.replace(t==="'"?n:r,function(a){switch(a){case"'":return"\\'";case'"':return'\\"';case"\\":return"\\\\";default:return a}}).replace(o,function(a){switch(a){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v";default:{var i=a.charCodeAt(0).toString(16);return"\\x"+"00".slice(i.length)+i}}})}function vn(e,t){return t===void 0&&(t='"'),t+Kr(e,t)+t}function Vr(e){jr("candidate",e);for(var t in e)if(Pr(e,t))return!1;return!0}function Jr(e){return!Vr(e)}function Y(e,t,n){return t===void 0&&(t=-1/0),n===void 0&&(n=1/0),Math.max(t,Math.min(e,n))}function Qr(e,t,n){switch(!0){case t==null:throw new Error('no "Position" given');case(typeof t.left!="number"&&!(t.left instanceof Number)):case(typeof t.top!="number"&&!(t.top instanceof Number)):throw new Error('invalid "Position" given')}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left,top:t.top};case"document":return{left:t.left+window.scrollX,top:t.top+window.scrollY};case"local":switch(!0){case n==null:throw new Error("no target element given");case n instanceof Element:var r=window.getComputedStyle(n),o=parseFloat(r.borderLeftWidth),a=parseFloat(r.borderTopWidth),i=n.getBoundingClientRect();return{left:t.left-i.left-o,top:t.top-i.top-a};default:throw new Error("invalid target element given")}default:throw new Error("invalid coordinate system given")}}function eo(e,t,n){switch(!0){case t==null:throw new Error('no "Position" given');case(typeof t.left!="number"&&!(t.left instanceof Number)):case(typeof t.top!="number"&&!(t.top instanceof Number)):throw new Error('invalid "Position" given')}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left-window.scrollX,top:t.top-window.scrollY};case"document":return{left:t.left,top:t.top};case"local":switch(!0){case n==null:throw new Error("no target element given");case n instanceof Element:var r=window.getComputedStyle(n),o=parseFloat(r.borderLeftWidth),a=parseFloat(r.borderTopWidth),i=n.getBoundingClientRect();return{left:t.left+window.scrollX-i.left-o,top:t.top+window.scrollY-i.top-a};default:throw new Error("invalid target element given")}default:throw new Error("invalid coordinate system given")}}function to(e,t,n){switch(!0){case t==null:throw new Error('no "Position" given');case(typeof t.left!="number"&&!(t.left instanceof Number)):case(typeof t.top!="number"&&!(t.top instanceof Number)):throw new Error('invalid "Position" given')}var r,o,a;switch(!0){case n==null:throw new Error("no source element given");case n instanceof Element:var i=window.getComputedStyle(n),l=parseFloat(i.borderLeftWidth),c=parseFloat(i.borderTopWidth);r=n.getBoundingClientRect(),o=r.left+l,a=r.top+c;break;default:throw new Error("invalid source element given")}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left+o,top:t.top+a};case"document":return{left:t.left+o+window.scrollX,top:t.top+a+window.scrollY};case"local":return{left:t.left,top:t.top};default:throw new Error("invalid coordinate system given")}}var B={fromViewportTo:Qr,fromDocumentTo:eo,fromLocalTo:to},u="__DragAndDropActions"in ot?ot.__DragAndDropActions:ot.__DragAndDropActions={};function Ce(e){e=$e("drag options",e)||{};var t,n,r,o,a,i,l,c,d,m,h,s,f,v,g,D,w,b,p;switch(t=e.Extras,!0){case e.relativeTo==null:n="parent";break;case e.relativeTo==="parent":case e.relativeTo==="body":case ae(e.relativeTo):case e.relativeTo instanceof HTMLElement:case e.relativeTo instanceof SVGElement:n=e.relativeTo;break;default:M("InvalidArgument: invalid position reference given")}switch(r=Xt('"onlyFrom" CSS selector',e.onlyFrom),o=Xt('"neverFrom" CSS selector',e.neverFrom),!0){case e.Dummy==null:a=void 0;break;case e.Dummy==="standard":case e.Dummy==="none":case ae(e.Dummy):case e.Dummy instanceof HTMLElement:case e.Dummy instanceof SVGElement:case Et(e.Dummy):a=e.Dummy;break;default:M("InvalidArgument: invalid drag dummy specification given")}switch(i=U("dummy x offset",e.DummyOffsetX),l=U("dummy y offset",e.DummyOffsetY),c=U("min. x position",e.minX),c==null&&(c=-1/0),d=U("min. y position",e.minY),d==null&&(d=-1/0),m=U("max. x position",e.maxX),m==null&&(m=1/0),h=U("max. y position",e.maxY),h==null&&(h=1/0),!0){case e.Pannable==null:s=void 0;break;case ae(e.Pannable):case e.Pannable instanceof HTMLElement:case e.Pannable instanceof SVGElement:s=e.Pannable;break;default:M('InvalidArgument: invalid "Pannable" specification given')}if(f=fe("panning sensor width",e.PanSensorWidth),f==null&&(f=20),v=fe("panning sensor height",e.PanSensorHeight),v==null&&(v=20),g=fe("panning speed",e.PanSpeed),g==null&&(g=10),ro(e.onDragStart)){var y=e.onDragStart,P=y.x,_=y.y;D=function(){return{x:P,y:_}}}else D=C('"onDragStart" handler',e.onDragStart);return w=C('"onDragMove" handler',e.onDragMove),b=C('"onDragEnd" handler',e.onDragEnd),{Extras:t,relativeTo:n,onlyFrom:r,neverFrom:o,Dummy:a,DummyOffsetX:i,DummyOffsetY:l,minX:c,minY:d,maxX:m,maxY:h,Pannable:s,PanSensorWidth:f,PanSensorHeight:v,PanSpeed:g,onDragStart:D,onDragMove:w,onDragEnd:b,onDragCancel:p}}function Ua(e,t){var n,r,o,a,i,l,c,d,m;n=!1,r=Ce(t);function h(g){var D=r;if(wn(e,D,g))return g.stopPropagation(),g.preventDefault(),!1;o=_n(e,D);var w=B.fromDocumentTo("local",{left:g.pageX,top:g.pageY},o);if(a=i=0,d={x:0,y:0},D.onDragStart==null)d={x:0,y:0};else try{var b=D.onDragStart(D.Extras);if(Ue(b)){var p=U("x start position",b.x),y=U("y start position",b.y);a=p-w.left,i=y-w.top,p=Y(p,D.minX,D.maxX),y=Y(y,D.minY,D.maxY),d={x:p,y}}}catch(T){console.error('"onDragStart" handler failed',T)}if(m=d,l=!1,D.Dummy==null&&(D.Dummy="none"),c=Tn(e,D),c!=null&&g.dataTransfer!=null){var P=D.DummyOffsetX,_=D.DummyOffsetY;if(P==null||_==null){var E=B.fromDocumentTo("local",{left:g.pageX,top:g.pageY},e);P==null&&(P=E.left),_==null&&(_=E.top)}switch(!0){case D.Dummy==="none":g.dataTransfer.setDragImage(c,0,0),setTimeout(function(){document.body.removeChild(c)},0);break;case Tt(D.Dummy):g.dataTransfer.setDragImage(c,P,_),setTimeout(function(){document.body.removeChild(c.parentElement)},0);break;default:g.dataTransfer.setDragImage(c,P,_)}}g.dataTransfer!=null&&(g.dataTransfer.effectAllowed="none"),n=!0,setTimeout(function(){return e.classList.add("dragged")},0),g.stopPropagation()}function s(g){if(!n)return!1;var D=r;if(g.screenX===0&&g.screenY===0&&!l)l=!0;else{l=!1,He("draggable",e,D,g.pageX,g.pageY);var w=B.fromDocumentTo("local",{left:g.pageX,top:g.pageY},o),b=w.left+a,p=w.top+i;b=Y(b,D.minX,D.maxX),p=Y(p,D.minY,D.maxY);var y=b-m.x,P=p-m.y;m={x:b,y:p},X("onDragMove",D,b,p,y,P,D.Extras)}g.stopPropagation()}function f(g){if(!n)return!1;var D=r;if(D.onDragEnd!=null){var w=Y(m.x,D.minX,D.maxX),b=Y(m.y,D.minY,D.maxY),p=w-m.x,y=b-m.y;X("onDragEnd",D,w,b,p,y,D.Extras)}n=!1,e.classList.remove("dragged"),g.stopPropagation()}function v(g){g=Ce(g),r.Extras==null&&g.Extras!=null&&(r.Extras=g.Extras),r.Dummy=g.Dummy||r.Dummy,r.minX=g.minX,r.minY=g.minY,r.maxX=g.maxX,r.maxY=g.maxY,r.Pannable=g.Pannable,r.PanSensorWidth=g.PanSensorWidth,r.PanSensorHeight=g.PanSensorHeight,r.PanSpeed=g.PanSpeed,r.onDragStart=g.onDragStart||r.onDragStart}return e.setAttribute("draggable","true"),e.addEventListener("dragstart",h),e.addEventListener("drag",s),e.addEventListener("dragend",f),{update:v}}function wn(e,t,n){if(t.onlyFrom!=null||t.neverFrom!=null){var r=n.clientX,o=n.clientY,a=document.elementFromPoint(r,o);if(a=bn(a,r,o),t.onlyFrom!=null){var i=a.closest(t.onlyFrom);if(e!==i&&!e.contains(i))return!0}if(t.neverFrom!=null){var i=a.closest(t.neverFrom);if(e===i||e.contains(i))return!0}}return!1}function bn(e,t,n){for(var r=e.children,o=0,a=r.length;o<a;o++){var i=r[o],l=B.fromLocalTo("viewport",{left:0,top:0},i);if(!(t<l.left||n<l.top)&&!(t>l.left+i.offsetWidth-1)&&!(n>l.top+i.offsetHeight-1))return bn(i,t,n)}return e}var no=["copy","move","link"];function Gt(e){e=$e("drop options",e)||{};var t,n,r,o,a,i;return t=En("list of allowed operations",e.Operations,"copy"),n=Object.assign({},$e("data to be offered",e.DataToOffer)),"none"in n&&M('InvalidArgument: "none" is not a valid data type'),r=C('"onDropZoneEnter" handler',e.onDropZoneEnter),o=C('"onDropZoneHover" handler',e.onDropZoneHover),a=C('"onDropZoneLeave" handler',e.onDropZoneLeave),i=C('"onDropped" handler',e.onDropped),{Operations:t,DataToOffer:n,onDropZoneEnter:r,onDropZoneHover:o,onDropZoneLeave:a,onDropped:i}}function qa(e,t){var n,r,o,a,i,l,c,d,m,h,s,f;n=!1,r=Ce(t),o=Gt(t);function v(p){var y=Object.assign({},r,o);if(wn(e,y,p))return p.stopPropagation(),p.preventDefault(),!1;a=_n(e,y);var P=B.fromDocumentTo("local",{left:p.pageX,top:p.pageY},a);if(i=l=0,m={x:0,y:0},y.onDragStart==null)m={x:0,y:0};else try{var _=y.onDragStart(y.Extras);if(Ue(_)){var E=U("x start position",_.x),T=U("y start position",_.y);i=E-P.left,l=T-P.top,E=Y(E,y.minX,y.maxX),T=Y(T,y.minY,y.maxY),m={x:E,y:T}}}catch(Xn){console.error('"onDragStart" handler failed',Xn)}if(h=m,s=void 0,f=void 0,c=!1,y.Dummy==null&&(y.Dummy="standard"),d=Tn(e,y),d!=null&&p.dataTransfer!=null){var x=y.DummyOffsetX,ye=y.DummyOffsetY;if(x==null||ye==null){var Mt=B.fromDocumentTo("local",{left:p.pageX,top:p.pageY},e);x==null&&(x=Mt.left),ye==null&&(ye=Mt.top)}switch(!0){case y.Dummy==="none":p.dataTransfer.setDragImage(d,0,0),setTimeout(function(){document.body.removeChild(d)},0);break;case Tt(y.Dummy):p.dataTransfer.setDragImage(d,x,ye),setTimeout(function(){document.body.removeChild(d.parentElement)},0);break;default:p.dataTransfer.setDragImage(d,x,ye)}}if(p.dataTransfer!=null){var Yn=oo(y.Operations);if(p.dataTransfer.effectAllowed=Yn,Jr(y.DataToOffer))for(var tt in y.DataToOffer)y.DataToOffer.hasOwnProperty(tt)&&p.dataTransfer.setData(tt,y.DataToOffer[tt])}u.currentDroppableExtras=y.Extras,u.currentDropZoneExtras=void 0,u.currentDropZonePosition=void 0,u.currentDropZoneElement=void 0,u.DroppableWasDropped=!1,u.currentDropOperation=void 0,u.currentTypeTransferred=void 0,u.currentDataTransferred=void 0,n=!0,setTimeout(function(){return e.classList.add("dragged")},0),p.stopPropagation()}function g(p){if(!n)return!1;var y=Object.assign({},r,o);if(p.screenX===0&&p.screenY===0&&!c)c=!0;else{c=!1,He("draggable",e,y,p.pageX,p.pageY);var P=B.fromDocumentTo("local",{left:p.pageX,top:p.pageY},a),_=P.left+i,E=P.top+l;_=Y(_,y.minX,y.maxX),E=Y(E,y.minY,y.maxY);var T=_-h.x,x=E-h.y;h={x:_,y:E},X("onDragMove",y,_,E,T,x,y.Extras)}u.currentDropZoneElement===s?u.currentDropZoneElement!=null&&X("onDropZoneHover",y,u.currentDropZonePosition.x,u.currentDropZonePosition.y,u.currentDropZoneExtras,y.Extras):(u.currentDropZoneElement==null?(e.classList.remove("droppable"),X("onDropZoneLeave",y,f,y.Extras)):(e.classList.add("droppable"),X("onDropZoneEnter",y,u.currentDropZonePosition.x,u.currentDropZonePosition.y,f,y.Extras)),s=u.currentDropZoneElement,f=u.currentDropZoneExtras),p.stopPropagation()}function D(p){if(!n)return!1;var y=Object.assign({},r,o);if(u.DroppableWasDropped&&(X("onDropped",y,u.currentDropZonePosition.x,u.currentDropZonePosition.y,u.currentDropOperation,u.currentTypeTransferred,u.currentDataTransferred,u.currentDropZoneExtras,y.Extras),u.currentDropZoneExtras=void 0,u.currentDropZonePosition=void 0,u.currentDropZoneElement=void 0,u.DroppableWasDropped=!1,u.currentDropOperation=void 0,u.currentTypeTransferred=void 0,u.currentDataTransferred=void 0),y.onDragEnd!=null){var P=Y(h.x,y.minX,y.maxX),_=Y(h.y,y.minY,y.maxY),E=P-h.x,T=_-h.y;X("onDragEnd",y,P,_,E,T,y.Extras)}u.currentDroppableExtras=void 0,n=!1,e.classList.remove("dragged","droppable"),p.stopPropagation()}function w(p){p=Ce(p),r.Extras==null&&p.Extras!=null&&(r.Extras=p.Extras),r.Dummy=p.Dummy||r.Dummy,r.minX=p.minX,r.minY=p.minY,r.maxX=p.maxX,r.maxY=p.maxY,r.Pannable=p.Pannable,r.PanSensorWidth=p.PanSensorWidth,r.PanSensorHeight=p.PanSensorHeight,r.PanSpeed=p.PanSpeed,r.onDragStart=p.onDragStart||r.onDragStart}function b(p){p=Gt(p),o.Operations=p.Operations,o.DataToOffer=p.DataToOffer}return e.setAttribute("draggable","true"),e.addEventListener("dragstart",v),e.addEventListener("drag",g),e.addEventListener("dragend",D),{update:function(p){w(p),b(p)}}}function zt(e){e=$e("drop zone options",e)||{};var t,n,r,o,a,i,l,c,d,m,h,s,f;t=e.Extras,yn("data types to be accepted",e.TypesToAccept),n=Object.create(null),e.TypesToAccept!=null&&"none"in e.TypesToAccept&&M('InvalidArgument: "none" is not a valid data type');for(var v in e.TypesToAccept)e.TypesToAccept.hasOwnProperty(v)&&(n[v]=En("list of accepted operations for type "+vn(v),e.TypesToAccept[v]));switch(r=Hr("min. time to hold",e.HoldDelay,0),!0){case e.Pannable==null:o=void 0;break;case e.Pannable==="this":case ae(e.Pannable):case e.Pannable instanceof HTMLElement:case e.Pannable instanceof SVGElement:o=e.Pannable;break;default:M('InvalidArgument: invalid "Pannable" specification given')}return a=fe("panning sensor width",e.PanSensorWidth),a==null&&(a=20),i=fe("panning sensor height",e.PanSensorHeight),i==null&&(i=20),l=fe("panning speed",e.PanSpeed),l==null&&(l=10),c=C('"onDroppableEnter" handler',e.onDroppableEnter),d=C('"onDroppableMove" handler',e.onDroppableMove),m=C('"onDroppableLeave" handler',e.onDroppableLeave),h=C('"onDroppableHold" handler',e.onDroppableHold),s=C('"onDroppableRelease" handler',e.onDroppableRelease),f=C('"onDrop" handler',e.onDrop),{Extras:t,TypesToAccept:n,HoldDelay:r,Pannable:o,PanSensorWidth:a,PanSensorHeight:i,PanSpeed:l,onDroppableEnter:c,onDroppableMove:d,onDroppableLeave:m,onDroppableHold:h,onDroppableRelease:s,onDrop:f}}function Ka(e,t){var n;n=zt(t);function r(s){var f=n;He("dropzone",e,f,s.pageX,s.pageY);var v=at(B.fromDocumentTo("local",{left:s.pageX,top:s.pageY},e));if(Yt(f.HoldDelay)&&f.HoldDelay>0&&u.HoldWasTriggeredForElement!==e&&l(v),!(s.dataTransfer==null||s.dataTransfer.effectAllowed==="none")){var g=s.dataTransfer.dropEffect;if(g==="none")switch(s.dataTransfer.effectAllowed){case"copy":case"move":case"link":g=s.dataTransfer.effectAllowed;break;default:g=void 0}var D=f.TypesToAccept,w=s.dataTransfer.types.filter(function(p){return p in D&&D[p]!==""});if(w.length!==0){var b=it("onDroppableEnter",f,v.x,v.y,g,w,u.currentDroppableExtras,f.Extras);b!==!1&&(u.currentDropZoneExtras=f.Extras,u.currentDropZoneElement=e,u.currentDropZonePosition=v,e.classList.add("hovered"),s.preventDefault(),s.stopPropagation())}}}function o(s){var f=n;He("dropzone",e,f,s.pageX,s.pageY);var v=at(B.fromDocumentTo("local",{left:s.pageX,top:s.pageY},e));if(Yt(f.HoldDelay)&&f.HoldDelay>0&&u.HoldWasTriggeredForElement!==e&&(u.HoldPosition==null?l(v):c(v)),s.dataTransfer==null||s.dataTransfer.effectAllowed==="none"||u.currentDropZoneElement!=null&&u.currentDropZoneElement!==e){e.classList.remove("hovered");return}var g=s.dataTransfer.dropEffect;if(g==="none")switch(s.dataTransfer.effectAllowed){case"copy":case"move":case"link":g=s.dataTransfer.effectAllowed;break;default:g=void 0}var D=f.TypesToAccept,w=s.dataTransfer.types.filter(function(p){return p in D&&D[p]!==""});if(w.length===0){u.currentDropZoneElement===e&&(u.currentDropZoneExtras=void 0,u.currentDropZoneElement=void 0,u.currentDropZonePosition=void 0),e.classList.remove("hovered");return}u.currentDropZonePosition=v;var b=it("onDroppableMove",f,u.currentDropZonePosition.x,u.currentDropZonePosition.y,g,w,u.currentDroppableExtras,f.Extras);if(b===!1)u.currentDropZoneExtras=void 0,u.currentDropZoneElement=void 0,u.currentDropZonePosition=void 0,e.classList.remove("hovered");else return u.currentDropZoneExtras=f.Extras,u.currentDropZoneElement=e,e.classList.add("hovered"),s.preventDefault(),!1}function a(s){e.classList.remove("hovered"),u.DropZonePanning=!1,d();var f=n;u.currentDropZoneElement===e&&(u.currentTypeTransferred==null&&(u.currentDropZoneExtras=void 0,u.currentDropZoneElement=void 0,u.DroppableWasDropped=!1,u.currentDropZonePosition=void 0,u.currentTypeTransferred=void 0,u.currentDataTransferred=void 0,X("onDroppableLeave",f,u.currentDroppableExtras,f.Extras)),s.preventDefault(),s.stopPropagation())}function i(s){if(e.classList.remove("hovered"),u.DropZonePanning=!1,d(),!(s.dataTransfer==null||s.dataTransfer.effectAllowed==="none"||u.currentDropZoneElement!==e)){s.stopPropagation();var f=n,v=s.dataTransfer.dropEffect;if(v==="none")switch(s.dataTransfer.effectAllowed){case"copy":case"move":case"link":v=s.dataTransfer.effectAllowed;break;default:v=void 0}var g=f.TypesToAccept,D=s.dataTransfer.types.filter(function(p){return p in g&&(v==null||g[p].indexOf(v)>=0)});if(D.length===0){u.currentDropZoneExtras=void 0,u.currentDropZonePosition=void 0,u.DroppableWasDropped=!1,u.currentDropOperation=void 0,u.currentTypeTransferred=void 0,u.currentDataTransferred=void 0,X("onDroppableLeave",f,u.currentDroppableExtras,f.Extras);return}u.currentDropZonePosition=at(B.fromDocumentTo("local",{left:s.pageX,top:s.pageY},e));var w={};D.forEach(function(p){return w[p]=s.dataTransfer.getData(p)});var b=it("onDrop",f,u.currentDropZonePosition.x,u.currentDropZonePosition.y,v,w,u.currentDroppableExtras,f.Extras);switch(!0){case b==null:u.DroppableWasDropped=!0,u.currentDropOperation=v,u.currentTypeTransferred=void 0,u.currentDataTransferred=void 0;break;case hn(b,D):u.DroppableWasDropped=!0,u.currentDropOperation=v,u.currentTypeTransferred=b,u.currentDataTransferred=w[b];break;default:u.DroppableWasDropped=!1,u.currentDropZoneExtras=void 0,u.currentDropZonePosition=void 0,u.currentDropOperation=void 0,u.currentTypeTransferred=void 0,u.currentDataTransferred=void 0}u.currentDropZoneElement=void 0}}function l(s){u.HoldPosition=s,u.HoldTimer!=null&&clearTimeout(u.HoldTimer),u.HoldTimer=setTimeout(m,t.HoldDelay)}function c(s){var f=Math.pow(u.HoldPosition.x-s.x,2)+Math.pow(u.HoldPosition.y-s.y,2);f>25&&(u.HoldPosition=s,clearTimeout(u.HoldTimer),u.HoldTimer=setTimeout(m,t.HoldDelay))}function d(){delete u.HoldPosition,u.HoldTimer!=null&&(clearTimeout(u.HoldTimer),delete u.HoldTimer),delete u.HoldWasTriggeredForElement}function m(){var s=u.currentDropZonePosition||u.HoldPosition;delete u.HoldPosition,delete u.HoldTimer,u.HoldWasTriggeredForElement=e,X("onDroppableHold",t,s.x,s.y,u.currentDroppableExtras,t.Extras)}function h(s){s=zt(s),n.Extras==null&&s.Extras!=null&&(n.Extras=s.Extras),n.TypesToAccept=s.TypesToAccept,n.HoldDelay=s.HoldDelay,n.Pannable=s.Pannable,n.PanSensorWidth=s.PanSensorWidth,n.PanSensorHeight=s.PanSensorHeight,n.PanSpeed=s.PanSpeed}return e.setAttribute("draggable","true"),e.addEventListener("dragenter",r),e.addEventListener("dragover",o),e.addEventListener("dragleave",a),e.addEventListener("drop",i),{update:h}}function ro(e){return Ue(e)&&ft(e.x)&&ft(e.y)}function at(e){return{x:e.left,y:e.top}}function _n(e,t){var n;switch(!0){case t.relativeTo==="parent":n=e.parentElement;break;case t.relativeTo==="body":n=document.body;break;case t.relativeTo instanceof HTMLElement:case t.relativeTo instanceof SVGElement:n=t.relativeTo,n!=document.body&&!document.body.contains(n)&&M('InvalidArgument: the HTML element given as "relativeTo" option is not part of this HTML document');break;default:n=e.closest(t.relativeTo)}return n==null?document.body:n}function Tn(e,t){switch(!0){case t.Dummy==="standard":return;case t.Dummy==="none":var n=document.createElement("div");return n.setAttribute("style","display:block; position:absolute; width:1px; height:1px; background:transparent; border:none; margin:0px; padding:0px; cursor:auto"),document.body.appendChild(n),n;case ae(t.Dummy):var r=document.createElement("div");return r.style.display="block",r.style.position="absolute",r.style.left=document.body.scrollWidth+100+"px",document.body.appendChild(r),r.innerHTML=t.Dummy,r.children[0];case t.Dummy instanceof HTMLElement:case t.Dummy instanceof SVGElement:return t.Dummy;case Et(t.Dummy):var o=void 0;try{o=t.Dummy(t.Extras,e)}catch(a){console.error("RuntimeError: creating draggable dummy failed",a)}if(o!=null){if(o instanceof HTMLElement||o instanceof SVGElement)return o;console.error("InvalidArgument: the newly created draggable dummy is neither an HTML nor an SVG element")}}}function He(e,t,n,r,o){if(!(e==="draggable"&&u.DropZonePanning)){if(n.Pannable==null||n.PanSensorWidth===0&&n.PanSensorHeight===0||n.PanSpeed===0){u.DropZonePanning=!1;return}var a;switch(!0){case ae(n.Pannable):a=t.parentElement,a!=null&&(a=a.closest(n.Pannable));break;case(n.Pannable==="this"&&e==="dropzone"):a=t;break;case n.Pannable instanceof HTMLElement:case n.Pannable instanceof SVGElement:a=n.Pannable}if(a==null){u.DropZonePanning=!1;return}var i=B.fromDocumentTo("local",{left:r,top:o},a),l=i.left,c=i.top;l>=0&&l<n.PanSensorWidth&&(a.scrollLeft=Math.max(0,a.scrollLeft-n.PanSpeed));var d=a.clientWidth;l>=d-n.PanSensorWidth&&l<d&&(a.scrollLeft=Math.min(a.scrollLeft+n.PanSpeed,a.scrollWidth-d)),c>=0&&c<n.PanSensorHeight&&(a.scrollTop=Math.max(0,a.scrollTop-n.PanSpeed));var m=a.clientHeight;c>=m-n.PanSensorHeight&&c<m&&(a.scrollTop=Math.min(a.scrollTop+n.PanSpeed,a.scrollHeight-m)),u.DropZonePanning=e==="dropzone"}}function En(e,t,n){n===void 0&&(n="copy move link");var r=Xr(e,t)||n;switch(r.trim()){case"all":return"copy move link";case"none":return""}var o=r.trim().replace(/\s+/g," ").split(" ");return Br(e,o,function(a){return hn(a,no)}),o.reduce(function(a,i){return a.indexOf(i)<0?a+i+" ":a}," ")}function oo(e){var t=((e.indexOf("move")<0?0:1)*2+(e.indexOf("link")<0?0:1))*2+(e.indexOf("copy")<0?0:1);return["none","copy","link","copyLink","move","copyMove","linkMove","all"][t]}function X(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t[e]!=null)try{return t[e].apply(null,n)}catch(o){console.error(vn(e)+" handler failed",o)}}var it=X;const ao="finalize",io="consider";function me(e,t,n){e.dispatchEvent(new CustomEvent(ao,{detail:{items:t,info:n}}))}function ee(e,t,n){e.dispatchEvent(new CustomEvent(io,{detail:{items:t,info:n}}))}const qe="draggedEntered",Pe="draggedLeft",Ke="draggedOverIndex",xt="draggedLeftDocument",Fe={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function so(e,t,n){e.dispatchEvent(new CustomEvent(qe,{detail:{indexObj:t,draggedEl:n}}))}function lo(e,t,n){e.dispatchEvent(new CustomEvent(Pe,{detail:{draggedEl:t,type:Fe.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function co(e,t){e.dispatchEvent(new CustomEvent(Pe,{detail:{draggedEl:t,type:Fe.OUTSIDE_OF_ANY}}))}function uo(e,t,n){e.dispatchEvent(new CustomEvent(Ke,{detail:{indexObj:t,draggedEl:n}}))}function fo(e){window.dispatchEvent(new CustomEvent(xt,{detail:{draggedEl:e}}))}const O={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:qe,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Ke,DRAGGED_LEFT:Pe,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},$={POINTER:"pointer",KEYBOARD:"keyboard"},Ve="isDndShadowItem",Pt="data-is-dnd-shadow-item",St="id:dnd-shadow-placeholder-0000",po="dnd-action-dragged-el";let L="id",pt=0;function xn(){pt++}function Pn(){if(pt===0)throw new Error("Bug! trying to decrement when there are no dropzones");pt--}const At=typeof window=="undefined";function Sn(e){let t;const n=e.getBoundingClientRect(),r=getComputedStyle(e),o=r.transform;if(o){let a,i,l,c;if(o.startsWith("matrix3d("))t=o.slice(9,-1).split(/, /),a=+t[0],i=+t[5],l=+t[12],c=+t[13];else if(o.startsWith("matrix("))t=o.slice(7,-1).split(/, /),a=+t[0],i=+t[3],l=+t[4],c=+t[5];else return n;const d=r.transformOrigin,m=n.x-l-(1-a)*parseFloat(d),h=n.y-c-(1-i)*parseFloat(d.slice(d.indexOf(" ")+1)),s=a?n.width/a:e.offsetWidth,f=i?n.height/i:e.offsetHeight;return{x:m,y:h,width:s,height:f,top:h,right:m+s,bottom:h+f,left:m}}else return n}function An(e){const t=Sn(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function It(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function In(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function mo(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Lt(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Te(e){return In(It(e))}function jt(e,t){const n=Te(e),r=An(t);return Lt(n,r)}function go(e,t){const n=Te(e),r=Te(t);return mo(n,r)}function ho(e){const t=It(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Do(e,t){const n=It(t);return Lt(e,n)?{top:e.y-n.top,bottom:n.bottom-e.y,left:e.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-e.x}:null}let ie;function Rt(){ie=new Map}Rt();function yo(e){ie.delete(e)}function vo(e){const t=Array.from(e.children).findIndex(n=>n.getAttribute(Pt));if(t>=0)return ie.has(e)||ie.set(e,new Map),ie.get(e).set(t,An(e.children[t])),t}function wo(e,t){if(!jt(e,t))return null;const n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};const r=vo(t);for(let i=0;i<n.length;i++)if(jt(e,n[i])){const l=ie.has(t)&&ie.get(t).get(i);return l&&!Lt(Te(e),l)?{index:r,isProximityBased:!1}:{index:i,isProximityBased:!1}}let o=Number.MAX_VALUE,a;for(let i=0;i<n.length;i++){const l=go(e,n[i]);l<o&&(o=l,a=i)}return{index:a,isProximityBased:!0}}const ve=25;function Ln(){let e;function t(){e={directionObj:void 0,stepPx:0}}t();function n(a){const{directionObj:i,stepPx:l}=e;i&&(a.scrollBy(i.x*l,i.y*l),window.requestAnimationFrame(()=>n(a)))}function r(a){return ve-a}function o(a,i){if(!i)return!1;const l=Do(a,i);if(l===null)return t(),!1;const c=!!e.directionObj;let[d,m]=[!1,!1];return i.scrollHeight>i.clientHeight&&(l.bottom<ve?(d=!0,e.directionObj={x:0,y:1},e.stepPx=r(l.bottom)):l.top<ve&&(d=!0,e.directionObj={x:0,y:-1},e.stepPx=r(l.top)),!c&&d)||i.scrollWidth>i.clientWidth&&(l.right<ve?(m=!0,e.directionObj={x:1,y:0},e.stepPx=r(l.right)):l.left<ve&&(m=!0,e.directionObj={x:-1,y:0},e.stepPx=r(l.left)),!c&&m)?(n(i),!0):(t(),!1)}return{scrollIfNeeded:o,resetScrolling:t}}function st(e){return JSON.stringify(e,null,2)}function Bt(e){if(!e)throw new Error("cannot get depth of a falsy node");return Rn(e,0)}function Rn(e,t=0){return e.parentElement?Rn(e.parentElement,t+1):t-1}function bo(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!{}.hasOwnProperty.call(t,n)||t[n]!==e[n])return!1;return!0}function _o(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const To=200,Ut=10,{scrollIfNeeded:Eo,resetScrolling:xo}=Ln();let mt;function Po(e,t,n=To){let r,o,a=!1,i;const l=Array.from(t).sort((d,m)=>Bt(m)-Bt(d));function c(){const d=Te(e),m=Eo(d,r);if(!m&&i&&Math.abs(i.x-d.x)<Ut&&Math.abs(i.y-d.y)<Ut){mt=window.setTimeout(c,n);return}if(ho(e)){fo(e);return}i=d;let h=!1;for(const s of l){m&&yo(r);const f=wo(e,s);if(f===null)continue;const{index:v}=f;h=!0,s!==r?(r&&lo(r,e,s),so(s,f,e),r=s):v!==o&&(uo(s,f,e),o=v);break}!h&&a&&r?(co(r,e),r=void 0,o=void 0,a=!1):a=!0,mt=window.setTimeout(c,n)}c()}function So(){clearTimeout(mt),xo(),Rt()}const Ao=300;let ke;function We(e){const t=e.touches?e.touches[0]:e;ke={x:t.clientX,y:t.clientY}}const{scrollIfNeeded:Io,resetScrolling:Lo}=Ln();let Nn;function Zn(){ke&&Io(ke,document.documentElement)&&Rt(),Nn=window.setTimeout(Zn,Ao)}function Ro(){window.addEventListener("mousemove",We),window.addEventListener("touchmove",We),Zn()}function No(){window.removeEventListener("mousemove",We),window.removeEventListener("touchmove",We),ke=void 0,window.clearTimeout(Nn),Lo()}function Zo(e){const t=e.cloneNode(!0),n=[],r=e.tagName==="SELECT",o=r?[e]:[...e.querySelectorAll("select")];for(const i of o)n.push(i.value);if(o.length<=0)return t;const a=r?[t]:[...t.querySelectorAll("select")];for(let i=0;i<a.length;i++){const l=a[i],c=n[i],d=l.querySelector(`option[value="${c}"`);d&&d.setAttribute("selected",!0)}return t}const Mo=.2;function ne(e){return`${e} ${Mo}s ease`}function Oo(e,t){const n=e.getBoundingClientRect(),r=Zo(e);Mn(e,r),r.id=po,r.style.position="fixed";let o=n.top,a=n.left;if(r.style.top=`${o}px`,r.style.left=`${a}px`,t){const i=In(n);o-=i.y-t.y,a-=i.x-t.x,window.setTimeout(()=>{r.style.top=`${o}px`,r.style.left=`${a}px`},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${ne("top")}, ${ne("left")}, ${ne("background-color")}, ${ne("opacity")}, ${ne("color")} `,window.setTimeout(()=>r.style.transition+=`, ${ne("width")}, ${ne("height")}`,0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function $o(e){e.style.cursor="grab"}function Co(e,t,n,r,o){const a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),l=a.width-i.width,c=a.height-i.height;if(l||c){const d={left:(n-i.left)/i.width,top:(r-i.top)/i.height};e.style.height=`${a.height}px`,e.style.width=`${a.width}px`,e.style.left=`${parseFloat(e.style.left)-d.left*l}px`,e.style.top=`${parseFloat(e.style.top)-d.top*c}px`}Mn(t,e),o()}function Mn(e,t){const n=window.getComputedStyle(e);Array.from(n).filter(r=>r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type").forEach(r=>t.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r)))}function Ho(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Fo(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function ko(e){e.style.visibility="hidden",e.setAttribute(Pt,"true")}function Wo(e){e.style.visibility="",e.removeAttribute(Pt)}function Ze(e,t=()=>{},n=()=>[]){e.forEach(r=>{const o=t(r);Object.keys(o).forEach(a=>{r.style[a]=o[a]}),n(r).forEach(a=>r.classList.add(a))})}function Ye(e,t=()=>{},n=()=>[]){e.forEach(r=>{const o=t(r);Object.keys(o).forEach(a=>{r.style[a]=""}),n(r).forEach(a=>r.classList.contains(a)&&r.classList.remove(a))})}function Yo(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const n=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=n}}const Xo="--any--",Go=100,qt=3,Kt={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let V,N,F,Je,A,Qe,ge,H,J,k,ue=!1,Nt=!1,Zt,Se=!1;const z=new Map,I=new Map,lt=new WeakMap;function zo(e,t){z.has(t)||z.set(t,new Set),z.get(t).has(e)||(z.get(t).add(e),xn())}function Vt(e,t){z.get(t).delete(e),Pn(),z.get(t).size===0&&z.delete(t)}function jo(){Ro();const e=z.get(Je);for(const n of e)n.addEventListener(qe,On),n.addEventListener(Pe,$n),n.addEventListener(Ke,Cn);window.addEventListener(xt,he);const t=Math.max(Go,...Array.from(e.keys()).map(n=>I.get(n).dropAnimationDurationMs));Po(N,e,t*1.07)}function Bo(){No();const e=z.get(Je);for(const t of e)t.removeEventListener(qe,On),t.removeEventListener(Pe,$n),t.removeEventListener(Ke,Cn);window.removeEventListener(xt,he),So()}function Uo(e){return e.findIndex(t=>t[L]===St)}function et(e){return e.findIndex(t=>!!t[Ve]&&t[L]!==St)}function On(e){let{items:t,dropFromOthersDisabled:n}=I.get(e.currentTarget);if(n&&e.currentTarget!==A)return;if(Se=!1,t=t.filter(i=>i[L]!==ge[L]),A!==e.currentTarget){const l=I.get(A).items.filter(c=>!c[Ve]);ee(A,l,{trigger:O.DRAGGED_ENTERED_ANOTHER,id:F[L],source:$.POINTER})}else{const i=Uo(t);i!==-1&&t.splice(i,1)}const{index:r,isProximityBased:o}=e.detail.indexObj,a=o&&r===e.currentTarget.children.length-1?r+1:r;H=e.currentTarget,t.splice(a,0,ge),ee(e.currentTarget,t,{trigger:O.DRAGGED_ENTERED,id:F[L],source:$.POINTER})}function $n(e){if(!ue)return;const{items:t,dropFromOthersDisabled:n}=I.get(e.currentTarget);if(n&&e.currentTarget!==A&&e.currentTarget!==H)return;const r=et(t),o=t.splice(r,1)[0];H=void 0;const{type:a,theOtherDz:i}=e.detail;if(a===Fe.OUTSIDE_OF_ANY||a===Fe.LEFT_FOR_ANOTHER&&i!==A&&I.get(i).dropFromOthersDisabled){Se=!0,H=A;const l=I.get(A).items;l.splice(Qe,0,o),ee(A,l,{trigger:O.DRAGGED_LEFT_ALL,id:F[L],source:$.POINTER})}ee(e.currentTarget,t,{trigger:O.DRAGGED_LEFT,id:F[L],source:$.POINTER})}function Cn(e){const{items:t,dropFromOthersDisabled:n}=I.get(e.currentTarget);if(n&&e.currentTarget!==A)return;Se=!1;const{index:r}=e.detail.indexObj,o=et(t);t.splice(o,1),t.splice(r,0,ge),ee(e.currentTarget,t,{trigger:O.DRAGGED_OVER_INDEX,id:F[L],source:$.POINTER})}function Xe(e){e.preventDefault();const t=e.touches?e.touches[0]:e;k={x:t.clientX,y:t.clientY},N.style.transform=`translate3d(${k.x-J.x}px, ${k.y-J.y}px, 0)`}function he(){Nt=!0,window.removeEventListener("mousemove",Xe),window.removeEventListener("touchmove",Xe),window.removeEventListener("mouseup",he),window.removeEventListener("touchend",he),Bo(),$o(N),H||(H=A);let{items:e,type:t}=I.get(H);Ye(z.get(t),o=>I.get(o).dropTargetStyle,o=>I.get(o).dropTargetClasses);let n=et(e);n===-1&&(n=Qe),e=e.map(o=>o[Ve]?F:o);function r(){Zt(),me(H,e,{trigger:Se?O.DROPPED_OUTSIDE_OF_ANY:O.DROPPED_INTO_ZONE,id:F[L],source:$.POINTER}),H!==A&&me(A,I.get(A).items,{trigger:O.DROPPED_INTO_ANOTHER,id:F[L],source:$.POINTER}),Wo(H.children[n]),Ko()}qo(n,r)}function qo(e,t){const n=Sn(H.children[e]),r={x:n.left-parseFloat(N.style.left),y:n.top-parseFloat(N.style.top)},{dropAnimationDurationMs:o}=I.get(H),a=`transform ${o}ms ease`;N.style.transition=N.style.transition?N.style.transition+","+a:a,N.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(t,o)}function Ko(){N.remove(),V.remove(),N=void 0,V=void 0,F=void 0,Je=void 0,A=void 0,Qe=void 0,ge=void 0,H=void 0,J=void 0,k=void 0,ue=!1,Nt=!1,Zt=void 0,Se=!1}function Vo(e,t){let n=!1;const r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Kt,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let o=new Map;function a(){window.addEventListener("mousemove",c,{passive:!1}),window.addEventListener("touchmove",c,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function i(){window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l)}function l(){i(),V=void 0,J=void 0,k=void 0}function c(s){s.preventDefault();const f=s.touches?s.touches[0]:s;k={x:f.clientX,y:f.clientY},(Math.abs(k.x-J.x)>=qt||Math.abs(k.y-J.y)>=qt)&&(i(),m())}function d(s){if(s.target!==s.currentTarget&&(s.target.value!==void 0||s.target.isContentEditable)||s.button||ue)return;s.stopPropagation();const f=s.touches?s.touches[0]:s;J={x:f.clientX,y:f.clientY},k=le({},J),V=s.currentTarget,a()}function m(){ue=!0;const s=o.get(V);Qe=s,A=V.parentElement;const f=A.getRootNode(),v=f.body||f,{items:g,type:D,centreDraggedOnCursor:w}=r;F=le({},g[s]),Je=D,ge=nt(le({},F),{[Ve]:!0});const b=nt(le({},ge),{[L]:St});N=Oo(V,w&&k);function p(){N.parentElement?window.requestAnimationFrame(p):(v.appendChild(N),N.focus(),jo(),Fo(V),v.appendChild(V))}window.requestAnimationFrame(p),Ze(Array.from(z.get(r.type)).filter(y=>y===A||!I.get(y).dropFromOthersDisabled),y=>I.get(y).dropTargetStyle,y=>I.get(y).dropTargetClasses),g.splice(s,1,b),Zt=Yo(A),ee(A,g,{trigger:O.DRAG_STARTED,id:F[L],source:$.POINTER}),window.addEventListener("mousemove",Xe,{passive:!1}),window.addEventListener("touchmove",Xe,{passive:!1,capture:!1}),window.addEventListener("mouseup",he,{passive:!1}),window.addEventListener("touchend",he,{passive:!1})}function h({items:s=void 0,flipDurationMs:f=0,type:v=Xo,dragDisabled:g=!1,morphDisabled:D=!1,dropFromOthersDisabled:w=!1,dropTargetStyle:b=Kt,dropTargetClasses:p=[],transformDraggedElement:y=()=>{},centreDraggedOnCursor:P=!1}){r.dropAnimationDurationMs=f,r.type&&v!==r.type&&Vt(e,r.type),r.type=v,zo(e,v),r.items=[...s],r.dragDisabled=g,r.morphDisabled=D,r.transformDraggedElement=y,r.centreDraggedOnCursor=P,n&&ue&&!Nt&&(!bo(b,r.dropTargetStyle)||!_o(p,r.dropTargetClasses))&&(Ye([e],()=>r.dropTargetStyle,()=>p),Ze([e],()=>b,()=>p)),r.dropTargetStyle=b,r.dropTargetClasses=[...p];function _(T,x){return I.get(T)?I.get(T)[x]:r[x]}n&&ue&&r.dropFromOthersDisabled!==w&&(w?Ye([e],T=>_(T,"dropTargetStyle"),T=>_(T,"dropTargetClasses")):Ze([e],T=>_(T,"dropTargetStyle"),T=>_(T,"dropTargetClasses"))),r.dropFromOthersDisabled=w,I.set(e,r);const E=et(r.items);for(let T=0;T<e.children.length;T++){const x=e.children[T];if(Ho(x,g),T===E){D||Co(N,x,k.x,k.y,()=>r.transformDraggedElement(N,F,T)),ko(x);continue}x.removeEventListener("mousedown",lt.get(x)),x.removeEventListener("touchstart",lt.get(x)),g||(x.addEventListener("mousedown",d),x.addEventListener("touchstart",d),lt.set(x,d)),o.set(x,T),n||(n=!0)}}return h(t),{update:s=>{h(s)},destroy:()=>{Vt(e,r.type),I.delete(e)}}}const gt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Hn={[gt.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[gt.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},Jo="dnd-action-aria-alert";let S;function ht(){S||(S=document.createElement("div"),function(){S.id=Jo,S.style.position="fixed",S.style.bottom="0",S.style.left="0",S.style.zIndex="-5",S.style.opacity="0",S.style.height="0",S.style.width="0",S.setAttribute("role","alert")}(),document.body.prepend(S),Object.entries(Hn).forEach(([e,t])=>document.body.prepend(ta(e,t))))}function Qo(){return At?null:(document.readyState==="complete"?ht():window.addEventListener("DOMContentLoaded",ht),le({},gt))}function ea(){At||!S||(Object.keys(Hn).forEach(e=>{var t;return(t=document.getElementById(e))==null?void 0:t.remove()}),S.remove(),S=void 0)}function ta(e,t){const n=document.createElement("div");return n.id=e,n.innerHTML=`<p>${t}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function pe(e){if(At)return;S||ht(),S.innerHTML="";const t=document.createTextNode(e);S.appendChild(t),S.style.display="none",S.style.display="inline"}const na="--any--",Jt={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let W=!1,Dt,Z,se="",re,q,Q="";const Ge=new WeakSet,Qt=new WeakMap,en=new WeakMap,yt=new Map,R=new Map,G=new Map;let ze;function ra(e,t){G.size===0&&(ze=Qo(),window.addEventListener("keydown",Fn),window.addEventListener("click",kn)),G.has(t)||G.set(t,new Set),G.get(t).has(e)||(G.get(t).add(e),xn())}function tn(e,t){Z===e&&Ee(),G.get(t).delete(e),Pn(),G.get(t).size===0&&G.delete(t),G.size===0&&(window.removeEventListener("keydown",Fn),window.removeEventListener("click",kn),ze=void 0,ea())}function Fn(e){if(!!W)switch(e.key){case"Escape":{Ee();break}}}function kn(){!W||Ge.has(document.activeElement)||Ee()}function oa(e){if(!W)return;const t=e.currentTarget;if(t===Z)return;se=t.getAttribute("aria-label")||"";const{items:n}=R.get(Z),r=n.find(d=>d[L]===q),o=n.indexOf(r),a=n.splice(o,1)[0],{items:i,autoAriaDisabled:l}=R.get(t);t.getBoundingClientRect().top<Z.getBoundingClientRect().top||t.getBoundingClientRect().left<Z.getBoundingClientRect().left?(i.push(a),l||pe(`Moved item ${Q} to the end of the list ${se}`)):(i.unshift(a),l||pe(`Moved item ${Q} to the beginning of the list ${se}`)),me(Z,n,{trigger:O.DROPPED_INTO_ANOTHER,id:q,source:$.KEYBOARD}),me(t,i,{trigger:O.DROPPED_INTO_ZONE,id:q,source:$.KEYBOARD}),Z=t}function Wn(){yt.forEach(({update:e},t)=>e(R.get(t)))}function Ee(e=!0){R.get(Z).autoAriaDisabled||pe(`Stopped dragging item ${Q}`),Ge.has(document.activeElement)&&document.activeElement.blur(),e&&ee(Z,R.get(Z).items,{trigger:O.DRAG_STOPPED,id:q,source:$.KEYBOARD}),Ye(G.get(Dt),t=>R.get(t).dropTargetStyle,t=>R.get(t).dropTargetClasses),re=null,q=null,Q="",Dt=null,Z=null,se="",W=!1,Wn()}function aa(e,t){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Jt,dropTargetClasses:[],autoAriaDisabled:!1};function r(m,h,s){m.length<=1||m.splice(s,1,m.splice(h,1,m[s])[0])}function o(m){switch(m.key){case"Enter":case" ":{if((m.target.disabled!==void 0||m.target.href||m.target.isContentEditable)&&!Ge.has(m.target))return;m.preventDefault(),m.stopPropagation(),W?Ee():a(m);break}case"ArrowDown":case"ArrowRight":{if(!W)return;m.preventDefault(),m.stopPropagation();const{items:h}=R.get(e),s=Array.from(e.children),f=s.indexOf(m.currentTarget);f<s.length-1&&(n.autoAriaDisabled||pe(`Moved item ${Q} to position ${f+2} in the list ${se}`),r(h,f,f+1),me(e,h,{trigger:O.DROPPED_INTO_ZONE,id:q,source:$.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!W)return;m.preventDefault(),m.stopPropagation();const{items:h}=R.get(e),f=Array.from(e.children).indexOf(m.currentTarget);f>0&&(n.autoAriaDisabled||pe(`Moved item ${Q} to position ${f} in the list ${se}`),r(h,f,f-1),me(e,h,{trigger:O.DROPPED_INTO_ZONE,id:q,source:$.KEYBOARD}));break}}}function a(m){l(m.currentTarget),Z=e,Dt=n.type,W=!0;const h=Array.from(G.get(n.type)).filter(s=>s===Z||!R.get(s).dropFromOthersDisabled);if(Ze(h,s=>R.get(s).dropTargetStyle,s=>R.get(s).dropTargetClasses),!n.autoAriaDisabled){let s=`Started dragging item ${Q}. Use the arrow keys to move it within its list ${se}`;h.length>1&&(s+=", or tab to another list in order to move the item into it"),pe(s)}ee(e,R.get(e).items,{trigger:O.DRAG_STARTED,id:q,source:$.KEYBOARD}),Wn()}function i(m){!W||m.currentTarget!==re&&(m.stopPropagation(),Ee(!1),a(m))}function l(m){const{items:h}=R.get(e),s=Array.from(e.children),f=s.indexOf(m);re=m,re.tabIndex=0,q=h[f][L],Q=s[f].getAttribute("aria-label")||""}function c({items:m=[],type:h=na,dragDisabled:s=!1,zoneTabIndex:f=0,dropFromOthersDisabled:v=!1,dropTargetStyle:g=Jt,dropTargetClasses:D=[],autoAriaDisabled:w=!1}){n.items=[...m],n.dragDisabled=s,n.dropFromOthersDisabled=v,n.zoneTabIndex=f,n.dropTargetStyle=g,n.dropTargetClasses=D,n.autoAriaDisabled=w,n.type&&h!==n.type&&tn(e,n.type),n.type=h,ra(e,h),w||(e.setAttribute("aria-disabled",s),e.setAttribute("role","list"),e.setAttribute("aria-describedby",s?ze.DND_ZONE_DRAG_DISABLED:ze.DND_ZONE_ACTIVE)),R.set(e,n),W?e.tabIndex=e===Z||re.contains(e)||n.dropFromOthersDisabled||Z&&n.type!==R.get(Z).type?-1:0:e.tabIndex=n.zoneTabIndex,e.addEventListener("focus",oa);for(let b=0;b<e.children.length;b++){const p=e.children[b];Ge.add(p),p.tabIndex=W?-1:0,w||p.setAttribute("role","listitem"),p.removeEventListener("keydown",Qt.get(p)),p.removeEventListener("click",en.get(p)),s||(p.addEventListener("keydown",o),Qt.set(p,o),p.addEventListener("click",i),en.set(p,i)),W&&n.items[b][L]===q&&(re=p,re.tabIndex=0,p.focus())}}c(t);const d={update:m=>{c(m)},destroy:()=>{tn(e,n.type),R.delete(e),yt.delete(e)}};return yt.set(e,d),d}function Va(e,t){nn(t);const n=Vo(e,t),r=aa(e,t);return{update:o=>{nn(o),n.update(o),r.update(o)},destroy:()=>{n.destroy(),r.destroy()}}}function nn(e){const g=e,{items:t,flipDurationMs:n,type:r,dragDisabled:o,morphDisabled:a,dropFromOthersDisabled:i,zoneTabIndex:l,dropTargetStyle:c,dropTargetClasses:d,transformDraggedElement:m,autoAriaDisabled:h,centreDraggedOnCursor:s}=g,f=Ht(g,["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"]);if(Object.keys(f).length>0&&console.warn("dndzone will ignore unknown options",f),!t)throw new Error("no 'items' key provided to dndzone");const v=t.find(D=>!{}.hasOwnProperty.call(D,L));if(v)throw new Error(`missing '${L}' property for item ${st(v)}`);if(d&&!Array.isArray(d))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof d}, ${st(d)}`);if(l&&!ia(l))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof l}, ${st(l)}`)}function ia(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Ja(e,{from:t,to:n},r={}){const o=getComputedStyle(e),a=o.transform==="none"?"":o.transform,[i,l]=o.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*i/n.width-(n.left+i),d=t.top+t.height*l/n.height-(n.top+l),{delay:m=0,duration:h=f=>Math.sqrt(f)*120,easing:s=xr}=r;return{delay:m,duration:vt(h)?h(Math.sqrt(c*c+d*d)):h,easing:s,css:(f,v)=>{const g=v*c,D=v*d,w=f+v*t.width/n.width,b=f+v*t.height/n.height;return`transform: ${a} translate(${g}px, ${D}px) scale(${w}, ${b});`}}}export{Ma as $,ka as A,Tr as B,Un as C,ja as D,Za as E,ca as F,da as G,fa as H,ua as I,ir as J,j as K,ga as L,qa as M,Ua as N,vt as O,la as P,Wt as Q,dt as R,za as S,Pa as T,Ra as U,pa as V,kt as W,xe as X,wa as Y,Da as Z,Wa as _,sr as a,Ka as a0,ma as a1,Ba as a2,Va as a3,Ha as a4,Aa as a5,Sa as a6,Ca as a7,$ as a8,O as a9,St as aa,Ja as ab,ba as b,_a as c,un as d,bt as e,xa as f,ha as g,ur as h,Ga as i,Ea as j,ya as k,va as l,Ta as m,Oa as n,wr as o,$a as p,gn as q,Na as r,qn as s,_t as t,La as u,Ia as v,Ya as w,Xa as x,_r as y,Fa as z};
