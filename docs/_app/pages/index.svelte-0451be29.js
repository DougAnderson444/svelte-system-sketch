var $e=Object.defineProperty,en=Object.defineProperties;var nn=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var tn=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable;var Ne=(l,e,i)=>e in l?$e(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,ye=(l,e)=>{for(var i in e||(e={}))tn.call(e,i)&&Ne(l,i,e[i]);if(Se)for(var i of Se(e))ln.call(e,i)&&Ne(l,i,e[i]);return l},ke=(l,e)=>en(l,nn(e));import{S as te,i as ie,s as le,e as B,t as he,k as x,c as L,a as O,h as ce,m as $,d as D,b as N,g as T,J as I,L as de,M as sn,j as je,K as re,D as Je,f as H,N as Ke,O as He,P as ve,v as ze,Q as S,R as Ce,T as We,U as Qe,E as an,V as Te,W as Z,X as we,Y as De,Z as Fe,_ as A,w as X,x as Q,y as Y,$ as P,q as v,o as E,B as j,l as U,a0 as rn,n as ee,p as ne,a1 as Ge}from"../chunks/vendor-12395ee4.js";import{c as on,p as fn,s as pe}from"../chunks/zoomable-7b889881.js";function un(l){let e,i,s,a,n,t,r,f;return{c(){e=B("div"),i=he("Scale "),s=he(l[0]),a=x(),n=B("div"),t=he("+ Drag Me"),this.h()},l(h){e=L(h,"DIV",{class:!0});var o=O(e);i=ce(o,"Scale "),s=ce(o,l[0]),a=$(o),n=L(o,"DIV",{class:!0});var m=O(n);t=ce(m,"+ Drag Me"),m.forEach(D),o.forEach(D),this.h()},h(){N(n,"class","yellow svelte-1skbl8q"),N(e,"class","pallette svelte-1skbl8q")},m(h,o){T(h,e,o),I(e,i),I(e,s),I(e,a),I(e,n),I(n,t),r||(f=de(sn.call(null,n,{Extras:{newContainer:l[1]},Operations:"copy",DataToOffer:{"item/plain":""}})),r=!0)},p(h,[o]){o&1&&je(s,h[0])},i:re,o:re,d(h){h&&D(e),r=!1,f()}}}function hn(l,e,i){let{children:s}=e,{scale:a=1}=e,n=on();return l.$$set=t=>{"children"in t&&i(2,s=t.children),"scale"in t&&i(0,a=t.scale)},[a,n,s]}class cn extends te{constructor(e){super();ie(this,e,hn,un,le,{children:2,scale:0})}}const be=Je({value:1}),Ve=Je(null);function dn(l){let e,i,s,a,n;return{c(){e=B("div"),this.h()},l(t){e=L(t,"DIV",{class:!0,style:!0}),O(e).forEach(D),this.h()},h(){N(e,"class",i="resize-handle "+l[2]+" svelte-ci56im"),H(e,"--size",gn),H(e,"left",l[5]+"px"),H(e,"top",l[4]+"px"),H(e,"cursor",l[6])},m(t,r){T(t,e,r),l[19](e),a||(n=de(s=Ke.call(null,e,{Extras:l[2],onDragStart:{x:l[0],y:l[1]},onDragMove:l[7],onDragEnd:l[8]})),a=!0)},p(t,[r]){r&4&&i!==(i="resize-handle "+t[2]+" svelte-ci56im")&&N(e,"class",i),r&32&&H(e,"left",t[5]+"px"),r&16&&H(e,"top",t[4]+"px"),s&&He(s.update)&&r&7&&s.update.call(null,{Extras:t[2],onDragStart:{x:t[0],y:t[1]},onDragMove:t[7],onDragEnd:t[8]})},i:re,o:re,d(t){t&&D(e),l[19](null),a=!1,n()}}}let gn="1em";function _n(l,e,i){let s,a,n;ve(l,be,u=>i(22,n=u));let{x:t}=e,{y:r}=e,{width:f}=e,{height:h}=e,{maxFrameHeight:o=2500}=e,{maxFrameWidth:m=2500}=e,{minFrameHeight:C=40}=e,{minFrameWidth:c=40}=e,{arenaWidth:_}=e,{arenaHeight:p}=e,{direction:b}=e,{isDragging:w=!1}=e,{grid:y}=e,W,k=8,q=8;ze(()=>{k=W?parseFloat(getComputedStyle(W).width.replace("px","")):8,q=W?parseFloat(getComputedStyle(W).height.replace("px","")):8});let J=b=="nw"||b=="se"?"nwse-resize":b=="n"||b=="s"?"ns-resize":b=="ne"||b=="sw"?"nesw-resize":"ew-resize";function M(u,F,V){switch(u){case"nw":case"w":case"sw":return F-k;case"n":case"s":return F+V/2;case"ne":case"e":case"se":return F+V+k}}function z(u,F,V){switch(u){case"nw":case"n":case"ne":return F-q;case"e":case"w":return F+V/2-q/2;case"sw":case"s":case"se":return F+V+q/2}}function fe(u,F,V,R,g){switch(g){case"nw":case"w":case"sw":i(0,t=Math.max(0,t+f-m,Math.min(t+f-c,_,t+V/n.value))),i(9,f=f-V/n.value);break;case"ne":case"e":case"se":i(9,f=Math.max(0,t+c,Math.min(t+m,_,t+f+V/n.value))-t)}switch(g){case"nw":case"n":case"ne":i(1,r=Math.max(0,r+h-o,Math.min(r+h-C,p,r+R/n.value))),i(10,h=h-R/n.value);break;case"sw":case"s":case"se":i(10,h=Math.max(0,r+C,Math.min(r+o,p,r+h+R/n.value))-r)}}function ue(u,F,V,R,g){i(11,w=!1),y&&(i(0,t=Math.floor(t/y)*y),i(1,r=Math.floor(r/y)*y),i(9,f=Math.floor(f/y)*y),i(10,h=Math.floor(h/y)*y))}function d(u){S[u?"unshift":"push"](()=>{W=u,i(3,W)})}return l.$$set=u=>{"x"in u&&i(0,t=u.x),"y"in u&&i(1,r=u.y),"width"in u&&i(9,f=u.width),"height"in u&&i(10,h=u.height),"maxFrameHeight"in u&&i(12,o=u.maxFrameHeight),"maxFrameWidth"in u&&i(13,m=u.maxFrameWidth),"minFrameHeight"in u&&i(14,C=u.minFrameHeight),"minFrameWidth"in u&&i(15,c=u.minFrameWidth),"arenaWidth"in u&&i(16,_=u.arenaWidth),"arenaHeight"in u&&i(17,p=u.arenaHeight),"direction"in u&&i(2,b=u.direction),"isDragging"in u&&i(11,w=u.isDragging),"grid"in u&&i(18,y=u.grid)},l.$$.update=()=>{l.$$.dirty&517&&i(5,s=M(b,t,f)),l.$$.dirty&1030&&i(4,a=z(b,r,h))},[t,r,b,W,a,s,J,fe,ue,f,h,w,o,m,C,c,_,p,y,d]}class mn extends te{constructor(e){super();ie(this,e,_n,dn,le,{x:0,y:1,width:9,height:10,maxFrameHeight:12,maxFrameWidth:13,minFrameHeight:14,minFrameWidth:15,arenaWidth:16,arenaHeight:17,direction:2,isDragging:11,grid:18})}}function Me(l,{enabled:e,handleUnselect:i}){const s=({target:n})=>{l!==n&&i()};function a({enabled:n}){n?window.addEventListener("click",s):window.removeEventListener("click",s)}return a({enabled:e}),{update:a,destroy(){window.removeEventListener("click",s)}}}function pn(l){let e,i,s,a;return{c(){e=B("div"),this.h()},l(n){e=L(n,"DIV",{class:!0});var t=O(e);t.forEach(D),this.h()},h(){N(e,"class",i=Te(l[0])+" svelte-1708iua")},m(n,t){T(n,e,t),e.innerHTML=l[4],l[14](e),s||(a=[Z(e,"input",l[5]),Z(e,"dblclick",l[5])],s=!0)},p(n,t){t&16&&(e.innerHTML=n[4]),t&1&&i!==(i=Te(n[0])+" svelte-1708iua")&&N(e,"class",i)},d(n){n&&D(e),l[14](null),s=!1,we(a)}}}function bn(l){let e,i,s,a;return{c(){e=B("span"),i=he(l[4]),this.h()},l(n){e=L(n,"SPAN",{contenteditable:!0,class:!0});var t=O(e);i=ce(t,l[4]),t.forEach(D),this.h()},h(){N(e,"contenteditable",""),N(e,"class",l[0]),l[4]===void 0&&Ce(()=>l[13].call(e))},m(n,t){T(n,e,t),I(e,i),l[12](e),l[4]!==void 0&&(e.innerHTML=l[4]),s||(a=[Z(e,"keydown",l[6]),Z(e,"blur",l[7]),Z(e,"input",l[13])],s=!0)},p(n,t){t&16&&je(i,n[4]),t&1&&N(e,"class",n[0]),t&16&&n[4]!==e.innerHTML&&(e.innerHTML=n[4])},d(n){n&&D(e),l[12](null),s=!1,we(a)}}}function wn(l){let e,i;function s(t,r){return t[2]?bn:pn}let a=s(l),n=a(l);return{c(){e=B("div"),n.c(),this.h()},l(t){e=L(t,"DIV",{class:!0});var r=O(e);n.l(r),r.forEach(D),this.h()},h(){N(e,"class","svelte-1708iua"),Ce(()=>l[15].call(e))},m(t,r){T(t,e,r),n.m(e,null),i=We(e,l[15].bind(e))},p(t,[r]){a===(a=s(t))&&n?n.p(t,r):(n.d(1),n=a(t),n&&(n.c(),n.m(e,null)))},i:re,o:re,d(t){t&&D(e),n.d(),i()}}}function yn(l,e,i){let{value:s=""}=e,{type:a="text"}=e,{placeholder:n=""}=e,{labelClasses:t=""}=e,{inputClasses:r=""}=e,f,h=!1,o,m=s;const C=Qe();async function c(k){if(i(2,h=!h),h){console.log("toggle editing"),await an(),o.focus();let J=document.createRange();console.log({inputEl:o}),J.setStart(o.firstChild,0),J.setEnd(o.firstChild,o.firstChild.length);var q=window.getSelection();q.removeAllRanges(),q.addRange(J)}else i(8,s=m),C("doneEditing")}const _=k=>{console.log("checking keyup"),k.keyCode===13&&(k.preventDefault(),o.blur())},p=k=>{s!=""&&s!=null?c():i(8,s="Enter Value")};function b(k){S[k?"unshift":"push"](()=>{o=k,i(3,o)})}function w(){m=this.innerHTML,i(4,m)}function y(k){S[k?"unshift":"push"](()=>{o=k,i(3,o)})}function W(){f=this.offsetWidth,i(1,f)}return l.$$set=k=>{"value"in k&&i(8,s=k.value),"type"in k&&i(9,a=k.type),"placeholder"in k&&i(10,n=k.placeholder),"labelClasses"in k&&i(0,t=k.labelClasses),"inputClasses"in k&&i(11,r=k.inputClasses)},[t,f,h,o,m,c,_,p,s,a,n,r,b,w,y,W]}class kn extends te{constructor(e){super();ie(this,e,yn,wn,le,{value:8,type:9,placeholder:10,labelClasses:0,inputClasses:11})}}const ae=["#63B75A4B","#FEE9004B","#ff003b4b","#69f5dc4B","#FF9D484B","#7a00ff4B","#ff14f84b","#376bff4b"];function qe(l,e,i){const s=l.slice();return s[2]=e[i],s}function Ie(l){let e,i,s;function a(...n){return l[1](l[2],...n)}return{c(){e=B("div"),this.h()},l(n){e=L(n,"DIV",{class:!0,style:!0}),O(e).forEach(D),this.h()},h(){N(e,"class","colorOption svelte-10ineey"),H(e,"background-color",l[2])},m(n,t){T(n,e,t),i||(s=Z(e,"click",De(a)),i=!0)},p(n,t){l=n},d(n){n&&D(e),i=!1,s()}}}function vn(l){let e,i=ae,s=[];for(let a=0;a<i.length;a+=1)s[a]=Ie(qe(l,i,a));return{c(){e=B("main");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=L(a,"MAIN",{class:!0});var n=O(e);for(let t=0;t<s.length;t+=1)s[t].l(n);n.forEach(D),this.h()},h(){N(e,"class","svelte-10ineey")},m(a,n){T(a,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(a,[n]){if(n&1){i=ae;let t;for(t=0;t<i.length;t+=1){const r=qe(a,i,t);s[t]?s[t].p(r,n):(s[t]=Ie(r),s[t].c(),s[t].m(e,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=i.length}},i:re,o:re,d(a){a&&D(e),Fe(s,a)}}}function Dn(l,e,i){let{backgroundColor:s}=e;const a=(n,t)=>i(0,s=n);return l.$$set=n=>{"backgroundColor"in n&&i(0,s=n.backgroundColor)},[s,a]}class Cn extends te{constructor(e){super();ie(this,e,Dn,vn,le,{backgroundColor:0})}}function En(l){let e,i,s,a,n,t,r,f,h,o,m,C;function c(p){l[2](p)}let _={};return l[1]!==void 0&&(_.backgroundColor=l[1]),i=new Cn({props:_}),S.push(()=>A(i,"backgroundColor",c)),{c(){e=B("div"),X(i.$$.fragment),a=x(),n=B("span"),t=he("\u21AA"),r=x(),f=B("span"),h=he("\u{1F5D1}\uFE0F"),this.h()},l(p){e=L(p,"DIV",{style:!0,class:!0});var b=O(e);Q(i.$$.fragment,b),a=$(b),n=L(b,"SPAN",{class:!0});var w=O(n);t=ce(w,"\u21AA"),w.forEach(D),r=$(b),f=L(b,"SPAN",{class:!0});var y=O(f);h=ce(y,"\u{1F5D1}\uFE0F"),y.forEach(D),b.forEach(D),this.h()},h(){N(n,"class","connect svelte-sbpf1i"),N(f,"class","svelte-sbpf1i"),H(e,"left",l[0].x+l[0].style.width+"px"),H(e,"top",l[0].y+"px"),N(e,"class","svelte-sbpf1i")},m(p,b){T(p,e,b),Y(i,e,null),I(e,a),I(e,n),I(n,t),I(e,r),I(e,f),I(f,h),o=!0,m||(C=[Z(n,"click",De(Mn)),Z(f,"click",De(Hn))],m=!0)},p(p,[b]){const w={};!s&&b&2&&(s=!0,w.backgroundColor=p[1],P(()=>s=!1)),i.$set(w),(!o||b&1)&&H(e,"left",p[0].x+p[0].style.width+"px"),(!o||b&1)&&H(e,"top",p[0].y+"px")},i(p){o||(v(i.$$.fragment,p),o=!0)},o(p){E(i.$$.fragment,p),o=!1},d(p){p&&D(e),j(i),m=!1,we(C)}}}function Hn(l){}function Mn(l){}function zn(l,e,i){var t;let{node:s}=e,a=((t=s==null?void 0:s.style)==null?void 0:t.backgroundColor)||"#fee9004b";function n(r){a=r,i(1,a)}return l.$$set=r=>{"node"in r&&i(0,s=r.node)},l.$$.update=()=>{l.$$.dirty&3&&i(0,s=ke(ye({},s),{style:ke(ye({},s.style),{backgroundColor:a})}))},[s,a,n]}class Wn extends te{constructor(e){super();ie(this,e,zn,En,le,{node:0})}}function Ae(l,e,i){const s=l.slice();return s[30]=e[i],s}function Be(l,e,i){const s=l.slice();return s[33]=e[i],s[34]=e,s[35]=i,s}function Le(l){var fe,ue;let e,i,s,a,n,t,r,f,h,o,m,C,c,_,p,b,w;function y(d){l[15](d)}let W={};l[0].name!==void 0&&(W.value=l[0].name),s=new kn({props:W}),S.push(()=>A(s,"value",y));function k(d){l[16](d)}var q=l[0].component;function J(d){let u={};return d[0].props!==void 0&&(u.props=d[0].props),{props:u}}q&&(t=new q(J(l)),S.push(()=>A(t,"props",k)));let M=((ue=(fe=l[0])==null?void 0:fe.children)==null?void 0:ue.length)>0&&Oe(l),z=l[4]&&l[7]&&Re(l);return{c(){e=B("div"),i=B("div"),X(s.$$.fragment),n=x(),t&&X(t.$$.fragment),f=x(),M&&M.c(),c=x(),z&&z.c(),_=U(),this.h()},l(d){e=L(d,"DIV",{class:!0,style:!0});var u=O(e);i=L(u,"DIV",{class:!0});var F=O(i);Q(s.$$.fragment,F),F.forEach(D),n=$(u),t&&Q(t.$$.fragment,u),f=$(u),M&&M.l(u),u.forEach(D),c=$(d),z&&z.l(d),_=U(),this.h()},h(){var d,u,F,V,R,g;N(i,"class","title svelte-1qbx638"),N(e,"class","container note svelte-1qbx638"),H(e,"left",l[0].x+"px"),H(e,"top",l[0].y+"px"),H(e,"width",((u=(d=l[0])==null?void 0:d.style)==null?void 0:u.width)+"px"),H(e,"height",((V=(F=l[0])==null?void 0:F.style)==null?void 0:V.height)+"px"),H(e,"background-color",((g=(R=l[0])==null?void 0:R.style)==null?void 0:g.backgroundColor)||"#fee9004b"),Ce(()=>l[20].call(e))},m(d,u){T(d,e,u),I(e,i),Y(s,i,null),I(e,n),t&&Y(t,e,null),I(e,f),M&&M.m(e,null),l[19](e),h=We(e,l[20].bind(e)),T(d,c,u),z&&z.m(d,u),T(d,_,u),p=!0,b||(w=[de(o=Ke.call(null,e,{onDragStart:{x:l[0].x,y:l[0].y},onDragMove:l[9],onDragEnd:l[10]})),de(m=rn.call(null,e,{TypesToAccept:{"item/plain":"all"},onDrop:l[11]})),de(C=Me.call(null,e,{enabled:l[7],handleUnselect:l[12]})),Z(e,"click",De(l[13])),Z(e,"focusout",l[12])],b=!0)},p(d,u){var R,g,oe,se,K,ge,Ee,_e;const F={};!a&&u[0]&1&&(a=!0,F.value=d[0].name,P(()=>a=!1)),s.$set(F);const V={};if(!r&&u[0]&1&&(r=!0,V.props=d[0].props,P(()=>r=!1)),q!==(q=d[0].component)){if(t){ee();const me=t;E(me.$$.fragment,1,0,()=>{j(me,1)}),ne()}q?(t=new q(J(d)),S.push(()=>A(t,"props",k)),X(t.$$.fragment),v(t.$$.fragment,1),Y(t,e,f)):t=null}else q&&t.$set(V);((g=(R=d[0])==null?void 0:R.children)==null?void 0:g.length)>0?M?(M.p(d,u),u[0]&1&&v(M,1)):(M=Oe(d),M.c(),v(M,1),M.m(e,null)):M&&(ee(),E(M,1,1,()=>{M=null}),ne()),(!p||u[0]&1)&&H(e,"left",d[0].x+"px"),(!p||u[0]&1)&&H(e,"top",d[0].y+"px"),(!p||u[0]&1)&&H(e,"width",((se=(oe=d[0])==null?void 0:oe.style)==null?void 0:se.width)+"px"),(!p||u[0]&1)&&H(e,"height",((ge=(K=d[0])==null?void 0:K.style)==null?void 0:ge.height)+"px"),(!p||u[0]&1)&&H(e,"background-color",((_e=(Ee=d[0])==null?void 0:Ee.style)==null?void 0:_e.backgroundColor)||"#fee9004b"),o&&He(o.update)&&u[0]&1&&o.update.call(null,{onDragStart:{x:d[0].x,y:d[0].y},onDragMove:d[9],onDragEnd:d[10]}),C&&He(C.update)&&u[0]&128&&C.update.call(null,{enabled:d[7],handleUnselect:d[12]}),d[4]&&d[7]?z?(z.p(d,u),u[0]&144&&v(z,1)):(z=Re(d),z.c(),v(z,1),z.m(_.parentNode,_)):z&&(ee(),E(z,1,1,()=>{z=null}),ne())},i(d){p||(v(s.$$.fragment,d),t&&v(t.$$.fragment,d),v(M),v(z),p=!0)},o(d){E(s.$$.fragment,d),t&&E(t.$$.fragment,d),E(M),E(z),p=!1},d(d){d&&D(e),j(s),t&&j(t),M&&M.d(),l[19](null),h(),d&&D(c),z&&z.d(d),d&&D(_),b=!1,we(w)}}}function Oe(l){let e,i,s=l[0].children,a=[];for(let t=0;t<s.length;t+=1)a[t]=Pe(Be(l,s,t));const n=t=>E(a[t],1,1,()=>{a[t]=null});return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=U()},l(t){for(let r=0;r<a.length;r+=1)a[r].l(t);e=U()},m(t,r){for(let f=0;f<a.length;f+=1)a[f].m(t,r);T(t,e,r),i=!0},p(t,r){if(r[0]&99){s=t[0].children;let f;for(f=0;f<s.length;f+=1){const h=Be(t,s,f);a[f]?(a[f].p(h,r),v(a[f],1)):(a[f]=Pe(h),a[f].c(),v(a[f],1),a[f].m(e.parentNode,e))}for(ee(),f=s.length;f<a.length;f+=1)n(f);ne()}},i(t){if(!i){for(let r=0;r<s.length;r+=1)v(a[r]);i=!0}},o(t){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)E(a[r]);i=!1},d(t){Fe(a,t),t&&D(e)}}}function Pe(l){let e,i,s,a;function n(f){l[17](f,l[33],l[34],l[35])}function t(f){l[18](f)}let r={arenaWidth:l[5],arenaHeight:l[6]};return l[33]!==void 0&&(r.node=l[33]),l[1]!==void 0&&(r.isDragging=l[1]),e=new xe({props:r}),S.push(()=>A(e,"node",n)),S.push(()=>A(e,"isDragging",t)),{c(){X(e.$$.fragment)},l(f){Q(e.$$.fragment,f)},m(f,h){Y(e,f,h),a=!0},p(f,h){l=f;const o={};h[0]&32&&(o.arenaWidth=l[5]),h[0]&64&&(o.arenaHeight=l[6]),!i&&h[0]&1&&(i=!0,o.node=l[33],P(()=>i=!1)),!s&&h[0]&2&&(s=!0,o.isDragging=l[1],P(()=>s=!1)),e.$set(o)},i(f){a||(v(e.$$.fragment,f),a=!0)},o(f){E(e.$$.fragment,f),a=!1},d(f){j(e,f)}}}function Re(l){let e,i,s,a,n=l[8],t=[];for(let o=0;o<n.length;o+=1)t[o]=Ze(Ae(l,n,o));const r=o=>E(t[o],1,1,()=>{t[o]=null});function f(o){l[26](o)}let h={};return l[0]!==void 0&&(h.node=l[0]),i=new Wn({props:h}),S.push(()=>A(i,"node",f)),{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=x(),X(i.$$.fragment)},l(o){for(let m=0;m<t.length;m+=1)t[m].l(o);e=$(o),Q(i.$$.fragment,o)},m(o,m){for(let C=0;C<t.length;C+=1)t[C].m(o,m);T(o,e,m),Y(i,o,m),a=!0},p(o,m){if(m[0]&271){n=o[8];let c;for(c=0;c<n.length;c+=1){const _=Ae(o,n,c);t[c]?(t[c].p(_,m),v(t[c],1)):(t[c]=Ze(_),t[c].c(),v(t[c],1),t[c].m(e.parentNode,e))}for(ee(),c=n.length;c<t.length;c+=1)r(c);ne()}const C={};!s&&m[0]&1&&(s=!0,C.node=o[0],P(()=>s=!1)),i.$set(C)},i(o){if(!a){for(let m=0;m<n.length;m+=1)v(t[m]);v(i.$$.fragment,o),a=!0}},o(o){t=t.filter(Boolean);for(let m=0;m<t.length;m+=1)E(t[m]);E(i.$$.fragment,o),a=!1},d(o){Fe(t,o),o&&D(e),j(i,o)}}}function Ze(l){let e,i,s,a,n,t,r;function f(_){l[21](_)}function h(_){l[22](_)}function o(_){l[23](_)}function m(_){l[24](_)}function C(_){l[25](_)}let c={maxFrameWidth:Nn,minFrameWidth:Sn,arenaWidth:l[3],arenaHeight:l[2],maxFrameHeight:Vn,minFrameHeight:Tn,direction:l[30],grid:G};return l[0].x!==void 0&&(c.x=l[0].x),l[0].y!==void 0&&(c.y=l[0].y),l[0].style.width!==void 0&&(c.width=l[0].style.width),l[0].style.height!==void 0&&(c.height=l[0].style.height),l[1]!==void 0&&(c.isDragging=l[1]),e=new mn({props:c}),S.push(()=>A(e,"x",f)),S.push(()=>A(e,"y",h)),S.push(()=>A(e,"width",o)),S.push(()=>A(e,"height",m)),S.push(()=>A(e,"isDragging",C)),{c(){X(e.$$.fragment)},l(_){Q(e.$$.fragment,_)},m(_,p){Y(e,_,p),r=!0},p(_,p){const b={};p[0]&8&&(b.arenaWidth=_[3]),p[0]&4&&(b.arenaHeight=_[2]),!i&&p[0]&1&&(i=!0,b.x=_[0].x,P(()=>i=!1)),!s&&p[0]&1&&(s=!0,b.y=_[0].y,P(()=>s=!1)),!a&&p[0]&1&&(a=!0,b.width=_[0].style.width,P(()=>a=!1)),!n&&p[0]&1&&(n=!0,b.height=_[0].style.height,P(()=>n=!1)),!t&&p[0]&2&&(t=!0,b.isDragging=_[1],P(()=>t=!1)),e.$set(b)},i(_){r||(v(e.$$.fragment,_),r=!0)},o(_){E(e.$$.fragment,_),r=!1},d(_){j(e,_)}}}function Fn(l){let e,i,s,a=l[0]&&document&&Me&&Le(l);return{c(){e=x(),a&&a.c(),i=U()},l(n){e=$(n),a&&a.l(n),i=U()},m(n,t){T(n,e,t),a&&a.m(n,t),T(n,i,t),s=!0},p(n,t){n[0]&&document&&Me?a?(a.p(n,t),t[0]&1&&v(a,1)):(a=Le(n),a.c(),v(a,1),a.m(i.parentNode,i)):a&&(ee(),E(a,1,1,()=>{a=null}),ne())},i(n){s||(v(a),s=!0)},o(n){E(a),s=!1},d(n){n&&D(e),a&&a.d(n),n&&D(i)}}}let G=20,Sn=40,Nn=2500,Tn=20,Vn=2500;function qn(l,e,i){let s,a;ve(l,Ve,g=>i(14,s=g)),ve(l,be,g=>i(27,a=g));let{node:n}=e,{arenaHeight:t}=e,{arenaWidth:r}=e,{isDragging:f=!1}=e;Qe();let h,o,m,C,c=["nw","w","sw","ne","e","se","n","s"];function _(g,oe,se,K){i(0,n.x=n.x+se/a.value,n),i(0,n.y=n.y+K/a.value,n),w()}function p(g,oe,se,K,ge){i(1,f=!1),i(0,n.x=Math.round(n.x/G)*G,n),i(0,n.y=Math.round(n.y/G)*G,n),i(0,n.style.width=Math.round(n.style.width/G)*G,n),i(0,n.style.height=Math.round(n.style.height/G)*G,n)}function b(g,oe,se,K,ge,Ee){let _e;for(let me in K)K.hasOwnProperty(me)&&(_e=me);return i(0,n.children=[...n.children,ke(ye({},ge.newContainer),{x:g/a.value,y:oe/a.value})],n),_e}function w(){n.x<0&&i(0,n.x=0,n),n.x+n.style.width>=r&&i(0,n.x-=n.x+n.style.width-r,n),n.y<0&&i(0,n.y=0,n),n.y+n.style.height>=t&&i(0,n.y-=n.y+n.style.height-t,n)}function y(){i(7,C=!1)}function W(g){h.focus(),Ge(Ve,s=h,s),i(7,C=!0)}function k(g){l.$$.not_equal(n.name,g)&&(n.name=g,i(0,n))}function q(g){l.$$.not_equal(n.props,g)&&(n.props=g,i(0,n))}function J(g,oe,se,K){se[K]=g,i(0,n)}function M(g){f=g,i(1,f)}function z(g){S[g?"unshift":"push"](()=>{h=g,i(4,h)})}function fe(){o=this.clientWidth,m=this.clientHeight,i(5,o),i(6,m)}function ue(g){l.$$.not_equal(n.x,g)&&(n.x=g,i(0,n))}function d(g){l.$$.not_equal(n.y,g)&&(n.y=g,i(0,n))}function u(g){l.$$.not_equal(n.style.width,g)&&(n.style.width=g,i(0,n))}function F(g){l.$$.not_equal(n.style.height,g)&&(n.style.height=g,i(0,n))}function V(g){f=g,i(1,f)}function R(g){n=g,i(0,n)}return l.$$set=g=>{"node"in g&&i(0,n=g.node),"arenaHeight"in g&&i(2,t=g.arenaHeight),"arenaWidth"in g&&i(3,r=g.arenaWidth),"isDragging"in g&&i(1,f=g.isDragging)},l.$$.update=()=>{l.$$.dirty[0]&12&&(r||t)&&w(),l.$$.dirty[0]&16400&&s!=h&&y()},[n,f,t,r,h,o,m,C,c,_,p,b,y,W,s,k,q,J,M,z,fe,ue,d,u,F,V,R]}class xe extends te{constructor(e){super();ie(this,e,qn,Fn,le,{node:0,arenaHeight:2,arenaWidth:3,isDragging:1},null,[-1,-1])}}function Ue(l){let e,i,s,a,n,t,r,f,h,o,m,C;function c(w){l[7](w)}let _={};l[5].value!==void 0&&(_.scale=l[5].value),i=new cn({props:_}),S.push(()=>A(i,"scale",c));function p(w){l[8](w)}let b={arenaWidth:l[3]*100,arenaHeight:l[4]*100};return l[0]!==void 0&&(b.node=l[0]),t=new xe({props:b}),S.push(()=>A(t,"node",p)),{c(){e=B("div"),X(i.$$.fragment),a=x(),n=B("div"),X(t.$$.fragment),this.h()},l(w){e=L(w,"DIV",{class:!0,style:!0});var y=O(e);Q(i.$$.fragment,y),a=$(y),n=L(y,"DIV",{class:!0});var W=O(n);Q(t.$$.fragment,W),W.forEach(D),y.forEach(D),this.h()},h(){N(n,"class","zoomable flexbox svelte-4dy2ei"),N(e,"class","canvas svelte-4dy2ei"),H(e,"height",l[2]+"px"),H(e,"width",l[1]+"px"),Ce(()=>l[9].call(e))},m(w,y){T(w,e,y),Y(i,e,null),I(e,a),I(e,n),Y(t,n,null),h=We(e,l[9].bind(e)),o=!0,m||(C=[de(f=fn.call(null,n)),Z(n,"zoomed",l[6])],m=!0)},p(w,y){const W={};!s&&y&32&&(s=!0,W.scale=w[5].value,P(()=>s=!1)),i.$set(W);const k={};y&8&&(k.arenaWidth=w[3]*100),y&16&&(k.arenaHeight=w[4]*100),!r&&y&1&&(r=!0,k.node=w[0],P(()=>r=!1)),t.$set(k),(!o||y&4)&&H(e,"height",w[2]+"px"),(!o||y&2)&&H(e,"width",w[1]+"px")},i(w){o||(v(i.$$.fragment,w),v(t.$$.fragment,w),o=!0)},o(w){E(i.$$.fragment,w),E(t.$$.fragment,w),o=!1},d(w){w&&D(e),j(i),j(t),h(),m=!1,we(C)}}}function In(l){let e,i,s=l[5]&&Ue(l);return{c(){s&&s.c(),e=U()},l(a){s&&s.l(a),e=U()},m(a,n){s&&s.m(a,n),T(a,e,n),i=!0},p(a,[n]){a[5]?s?(s.p(a,n),n&32&&v(s,1)):(s=Ue(a),s.c(),v(s,1),s.m(e.parentNode,e)):s&&(ee(),E(s,1,1,()=>{s=null}),ne())},i(a){i||(v(s),i=!0)},o(a){E(s),i=!1},d(a){s&&s.d(a),a&&D(e)}}}function An(l,e,i){let s;ve(l,be,c=>i(5,s=c));let{data:a}=e,{width:n=400}=e,{height:t=600}=e,r,f;function h(c){Ge(be,s=c.detail.scale,s)}function o(c){l.$$.not_equal(s.value,c)&&(s.value=c,be.set(s))}function m(c){a=c,i(0,a)}function C(){r=this.clientWidth,f=this.clientHeight,i(3,r),i(4,f)}return l.$$set=c=>{"data"in c&&i(0,a=c.data),"width"in c&&i(1,n=c.width),"height"in c&&i(2,t=c.height)},[a,n,t,r,f,s,h,o,m,C]}class Bn extends te{constructor(e){super();ie(this,e,An,In,le,{data:0,width:1,height:2})}}function Xe(l){let e,i,s;function a(t){l[5](t)}let n={width:l[0],height:l[1]};return l[3]!==void 0&&(n.data=l[3]),e=new Bn({props:n}),S.push(()=>A(e,"data",a)),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),s=!0},p(t,r){const f={};r&1&&(f.width=t[0]),r&2&&(f.height=t[1]),!i&&r&8&&(i=!0,f.data=t[3],P(()=>i=!1)),e.$set(f)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function Ln(l){let e,i,s,a,n=l[2]&&Xe(l);return{c(){n&&n.c(),e=U()},l(t){n&&n.l(t),e=U()},m(t,r){n&&n.m(t,r),T(t,e,r),i=!0,s||(a=Z(window,"resize",l[4]),s=!0)},p(t,[r]){t[2]?n?(n.p(t,r),r&4&&v(n,1)):(n=Xe(t),n.c(),v(n,1),n.m(e.parentNode,e)):n&&(ee(),E(n,1,1,()=>{n=null}),ne())},i(t){i||(v(n),i=!0)},o(t){E(n),i=!1},d(t){n&&n.d(t),t&&D(e),s=!1,a()}}}function On(l,e,i){let s,a,n;function t(){return Math.floor(Math.random()*10%ae.length)}let r={name:"My Dashboard of Lists",id:pe(),x:20,y:20,style:{backgroundColor:ae[t()],width:600,left:20,top:20,height:800},children:[{name:"Child 1",id:pe(),x:60,y:80,style:{backgroundColor:ae[t()],width:220,height:520,left:20,top:20},props:[],children:[{name:"Child A",id:pe(),x:20,y:80,style:{backgroundColor:ae[t()],width:120,height:120,left:20,top:20},props:[],children:[]}]},{name:"Child 2",id:pe(),x:300,y:80,style:{backgroundColor:ae[t()],width:100,height:140,left:20,top:20},props:[],children:[]},{name:"Child 3",id:pe(),x:420,y:80,style:{backgroundColor:ae[t()],width:100,height:160,left:20,top:20},props:[],children:[]}]};ze(()=>{i(2,n=!0),f()});function f(o){i(1,a=document==null?void 0:document.body.offsetHeight),i(0,s=document==null?void 0:document.body.offsetWidth)}function h(o){r=o,i(3,r)}return[s,a,n,r,f,h]}class Pn extends te{constructor(e){super();ie(this,e,On,Ln,le,{})}}function Ye(l){let e,i;return e=new Pn({}),{c(){X(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,a){Y(e,s,a),i=!0},i(s){i||(v(e.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),i=!1},d(s){j(e,s)}}}function Rn(l){let e,i,s=l[0]&&Ye();return{c(){s&&s.c(),e=U()},l(a){s&&s.l(a),e=U()},m(a,n){s&&s.m(a,n),T(a,e,n),i=!0},p(a,[n]){a[0]?s?n&1&&v(s,1):(s=Ye(),s.c(),v(s,1),s.m(e.parentNode,e)):s&&(ee(),E(s,1,1,()=>{s=null}),ne())},i(a){i||(v(s),i=!0)},o(a){E(s),i=!1},d(a){s&&s.d(a),a&&D(e)}}}function Zn(l,e,i){let s;return ze(()=>{i(0,s=!0)}),[s]}class jn extends te{constructor(e){super();ie(this,e,Zn,Rn,le,{})}}export{jn as default};
