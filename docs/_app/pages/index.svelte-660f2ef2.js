var Ge=Object.defineProperty,Fe=Object.defineProperties;var Je=Object.getOwnPropertyDescriptors;var Xe=Object.getOwnPropertySymbols;var Ue=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var Be=(t,e,l)=>e in t?Ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,Ie=(t,e)=>{for(var l in e||(e={}))Ue.call(e,l)&&Be(t,l,e[l]);if(Xe)for(var l of Xe(e))je.call(e,l)&&Be(t,l,e[l]);return t},Ye=(t,e)=>Fe(t,Je(e));import{S as U,i as j,s as G,e as W,t as k,k as N,c as M,a as V,h as E,d as C,m as O,b as q,L as ce,g as S,J as m,M as be,N as Z,j as H,G as $,H as x,I as ee,q as Y,O as Ke,o as R,P as Le,l as F,n as he,K as ve,p as me,Q as Qe,F as te,R as Ze,T as $e,U as J,f as L,v as qe,V as pe,W as _e,w as le,x as ne,y as se,X as ge,B as oe}from"../chunks/vendor-d0cdc2d5.js";import{_ as de}from"../chunks/preload-helper-78946fdc.js";const xe=t=>({arena:t&32}),we=t=>({arena:t[5]});function Re(t){var re,ie,fe,ue,K;let e,l,s=((re=t[6])==null?void 0:re.name)+"",n,u,o,i=((ie=t[5])==null?void 0:ie.offsetWidth)+"",a,f,r=((fe=t[5])==null?void 0:fe.offsetHeight)+"",c,g,_,p,I=((ue=t[5])==null?void 0:ue.clientWidth)+"",d,y,X=((K=t[5])==null?void 0:K.clientHeight)+"",P,T,v,b,D,z,ae;const h=t[9].default,w=te(h,t,t[8],we);return{c(){e=W("div"),l=W("b"),n=k(s),u=W("br"),o=N(),a=k(i),f=k(" x "),c=k(r),g=k(" (incl padding + border)"),_=W("br"),p=N(),d=k(I),y=k(" x "),P=k(X),T=k(` (excludes padding + border)\r
		`),w&&w.c(),this.h()},l(A){e=M(A,"DIV",{class:!0});var B=V(e);l=M(B,"B",{});var Q=V(l);n=E(Q,s),Q.forEach(C),u=M(B,"BR",{}),o=O(B),a=E(B,i),f=E(B," x "),c=E(B,r),g=E(B," (incl padding + border)"),_=M(B,"BR",{}),p=O(B),d=E(B,I),y=E(B," x "),P=E(B,X),T=E(B,` (excludes padding + border)\r
		`),w&&w.l(B),B.forEach(C),this.h()},h(){q(e,"class","group svelte-19w2bhm"),ce(()=>t[10].call(e))},m(A,B){S(A,e,B),m(e,l),m(l,n),m(e,u),m(e,o),m(e,a),m(e,f),m(e,c),m(e,g),m(e,_),m(e,p),m(e,d),m(e,y),m(e,P),m(e,T),w&&w.m(e,null),v=be(e,t[10].bind(e)),t[11](e),D=!0,z||(ae=[Z(e,"drop",t[12]),Z(e,"dragover",De)],z=!0)},p(A,B){var Q,ke,Ee,Ce,ye;t=A,(!D||B&64)&&s!==(s=((Q=t[6])==null?void 0:Q.name)+"")&&H(n,s),(!D||B&32)&&i!==(i=((ke=t[5])==null?void 0:ke.offsetWidth)+"")&&H(a,i),(!D||B&32)&&r!==(r=((Ee=t[5])==null?void 0:Ee.offsetHeight)+"")&&H(c,r),(!D||B&32)&&I!==(I=((Ce=t[5])==null?void 0:Ce.clientWidth)+"")&&H(d,I),(!D||B&32)&&X!==(X=((ye=t[5])==null?void 0:ye.clientHeight)+"")&&H(P,X),w&&w.p&&(!D||B&288)&&$(w,h,t,t[8],D?ee(h,t[8],B,xe):x(t[8]),we)},i(A){D||(Y(w,A),b||ce(()=>{b=Ke(e,$e,{duration:400,delay:0,opacity:.5,start:1.2,easing:Ze}),b.start()}),D=!0)},o(A){R(w,A),D=!1},d(A){A&&C(e),w&&w.d(A),v(),t[11](null),z=!1,Le(ae)}}}function et(t){let e=t[3]||t[4],l,s,n=Re(t);return{c(){n.c(),l=F()},l(u){n.l(u),l=F()},m(u,o){n.m(u,o),S(u,l,o),s=!0},p(u,[o]){o&24&&G(e,e=u[3]||u[4])?(he(),R(n,1,1,ve),me(),n=Re(u),n.c(),Y(n),n.m(l.parentNode,l)):n.p(u,o)},i(u){s||(Y(n),s=!0)},o(u){R(n),s=!1},d(u){u&&C(l),n.d(u)}}}function De(t){t.preventDefault(),t.dataTransfer.dropEffect="move"}function tt(t,e,l){let s,{$$slots:n={},$$scope:u}=e,{groups:o}=e,{g:i}=e;const a=Qe();let f,r,c;function g(d,y){d.preventDefault();var X=d.dataTransfer.getData("item"),P=d.dataTransfer.getData("group");const T=JSON.parse(d.dataTransfer.getData("shifts"));if(y==P)return;const v=o[P].items.splice(X,1)[0];console.log("dropZone event",{ev:d}),v.X=d.layerX-T.shiftX,v.Y=d.layerY-T.shiftY,o[y].items.push(v),l(7,o),a("simulate",{new_group:y,boxWidth:r,boxHeight:f})}function _(){f=this.offsetHeight,r=this.offsetWidth,l(3,f),l(4,r)}function p(d){J[d?"unshift":"push"](()=>{c=d,l(5,c)})}const I=d=>g(d,i);return t.$$set=d=>{"groups"in d&&l(7,o=d.groups),"g"in d&&l(0,i=d.g),"$$scope"in d&&l(8,u=d.$$scope)},t.$$.update=()=>{t.$$.dirty&129&&l(6,s=o[i])},[i,De,g,f,r,c,s,o,u,n,_,p,I]}class lt extends U{constructor(e){super();j(this,e,tt,et,G,{groups:7,g:0,dragover:1,drop:2})}get dragover(){return De}get drop(){return this.$$.ctx[2]}}const nt=t=>({}),Te=t=>({});function st(t){let e;return{c(){e=k("A Basic Rect")},l(l){e=E(l,"A Basic Rect")},m(l,s){S(l,e,s)},d(l){l&&C(e)}}}function ot(t){let e,l,s,n;const u=t[2].default,o=te(u,t,t[1],null),i=o||st(),a=t[2].footer,f=te(a,t,t[1],Te);return{c(){e=W("div"),i&&i.c(),l=N(),s=W("div"),f&&f.c(),this.h()},l(r){e=M(r,"DIV",{class:!0,style:!0});var c=V(e);i&&i.l(c),l=O(c),s=M(c,"DIV",{class:!0});var g=V(s);f&&f.l(g),g.forEach(C),c.forEach(C),this.h()},h(){q(s,"class","footer svelte-vi4h2b"),q(e,"class","styleRect svelte-vi4h2b"),L(e,"background-color",t[0])},m(r,c){S(r,e,c),i&&i.m(e,null),m(e,l),m(e,s),f&&f.m(s,null),n=!0},p(r,[c]){o&&o.p&&(!n||c&2)&&$(o,u,r,r[1],n?ee(u,r[1],c,null):x(r[1]),null),f&&f.p&&(!n||c&2)&&$(f,a,r,r[1],n?ee(a,r[1],c,nt):x(r[1]),Te),(!n||c&1)&&L(e,"background-color",r[0])},i(r){n||(Y(i,r),Y(f,r),n=!0)},o(r){R(i,r),R(f,r),n=!1},d(r){r&&C(e),i&&i.d(r),f&&f.d(r)}}}function at(t,e,l){let{$$slots:s={},$$scope:n}=e,{rectColor:u="#"+((1<<24)*Math.random()|0).toString(16)}=e;return t.$$set=o=>{"rectColor"in o&&l(0,u=o.rectColor),"$$scope"in o&&l(1,n=o.$$scope)},[u,n,s]}class rt extends U{constructor(e){super();j(this,e,at,ot,G,{rectColor:0})}}function it(t){var P,T;let e,l,s,n=((P=t[0])==null?void 0:P.offsetWidth)+"",u,o,i=((T=t[0])==null?void 0:T.offsetHeight)+"",a,f,r,c,g,_,p,I,d;const y=t[4].default,X=te(y,t,t[3],null);return{c(){e=W("div"),l=W("div"),s=k("Canvas "),u=k(n),o=k(" x "),a=k(i),f=W("br"),r=k(`\r
		Bind:Canvas `),c=k(t[2]),g=k(" x "),_=k(t[1]),p=N(),X&&X.c(),this.h()},l(v){e=M(v,"DIV",{class:!0});var b=V(e);l=M(b,"DIV",{class:!0});var D=V(l);s=E(D,"Canvas "),u=E(D,n),o=E(D," x "),a=E(D,i),f=M(D,"BR",{}),r=E(D,`\r
		Bind:Canvas `),c=E(D,t[2]),g=E(D," x "),_=E(D,t[1]),p=O(D),X&&X.l(D),D.forEach(C),b.forEach(C),this.h()},h(){q(l,"class","canvas svelte-tqqohv"),ce(()=>t[6].call(l)),q(e,"class","wrapper svelte-tqqohv")},m(v,b){S(v,e,b),m(e,l),m(l,s),m(l,u),m(l,o),m(l,a),m(l,f),m(l,r),m(l,c),m(l,g),m(l,_),m(l,p),X&&X.m(l,null),t[5](l),I=be(l,t[6].bind(l)),d=!0},p(v,[b]){var D,z;(!d||b&1)&&n!==(n=((D=v[0])==null?void 0:D.offsetWidth)+"")&&H(u,n),(!d||b&1)&&i!==(i=((z=v[0])==null?void 0:z.offsetHeight)+"")&&H(a,i),(!d||b&4)&&H(c,v[2]),(!d||b&2)&&H(_,v[1]),X&&X.p&&(!d||b&8)&&$(X,y,v,v[3],d?ee(y,v[3],b,null):x(v[3]),null)},i(v){d||(Y(X,v),d=!0)},o(v){R(X,v),d=!1},d(v){v&&C(e),X&&X.d(v),t[5](null),I()}}}function ft(t,e,l){let{$$slots:s={},$$scope:n}=e,{canvas:u}=e,o,i;function a(r){J[r?"unshift":"push"](()=>{u=r,l(0,u),l(1,o),l(2,i)})}function f(){o=this.offsetHeight,i=this.offsetWidth,l(1,o),l(2,i)}return t.$$set=r=>{"canvas"in r&&l(0,u=r.canvas),"$$scope"in r&&l(3,n=r.$$scope)},t.$$.update=()=>{t.$$.dirty&7&&l(0,u=Ye(Ie({},u),{offsetHeight:o,offsetWidth:i}))},[u,o,i,n,s,a,f]}class ut extends U{constructor(e){super();j(this,e,ft,it,G,{canvas:0})}}const ct=t=>({positionedItem:t&1}),He=t=>({positionedItem:t[0]});function We(t){let e,l,s,n,u,o,i,a,f,r;const c=t[13].default,g=te(c,t,t[12],He);return{c(){e=W("div"),l=k(t[7]),s=k(", "),n=k(t[6]),u=N(),g&&g.c(),this.h()},l(_){e=M(_,"DIV",{class:!0,draggable:!0,style:!0});var p=V(e);l=E(p,t[7]),s=E(p,", "),n=E(p,t[6]),u=O(p),g&&g.l(p),p.forEach(C),this.h()},h(){q(e,"class","draggable svelte-1o6gy6i"),q(e,"draggable",o=!0),L(e,"left",t[7]+"px"),L(e,"top",t[6]+"px"),L(e,"background",t[2].color),ce(()=>t[15].call(e))},m(_,p){S(_,e,p),m(e,l),m(e,s),m(e,n),m(e,u),g&&g.m(e,null),i=be(e,t[15].bind(e)),a=!0,f||(r=[Z(e,"dragstart",t[14]),Z(e,"drag",t[8]),Z(e,"dragend",t[9])],f=!0)},p(_,p){(!a||p&128)&&H(l,_[7]),(!a||p&64)&&H(n,_[6]),g&&g.p&&(!a||p&4097)&&$(g,c,_,_[12],a?ee(c,_[12],p,ct):x(_[12]),He),(!a||p&128)&&L(e,"left",_[7]+"px"),(!a||p&64)&&L(e,"top",_[6]+"px"),(!a||p&4)&&L(e,"background",_[2].color)},i(_){a||(Y(g,_),a=!0)},o(_){R(g,_),a=!1},d(_){_&&C(e),g&&g.d(_),i(),f=!1,Le(r)}}}function _t(t){let e,l,s=t[0]&&We(t);return{c(){s&&s.c(),e=F()},l(n){s&&s.l(n),e=F()},m(n,u){s&&s.m(n,u),S(n,e,u),l=!0},p(n,[u]){n[0]?s?(s.p(n,u),u&1&&Y(s,1)):(s=We(n),s.c(),Y(s,1),s.m(e.parentNode,e)):s&&(he(),R(s,1,1,()=>{s=null}),me())},i(n){l||(Y(s),l=!0)},o(n){R(s),l=!1},d(n){s&&s.d(n),n&&C(e)}}}const gt=0,dt=0;function ht(t,e,l){let s,n,u,o,{$$slots:i={},$$scope:a}=e,{arena:f}=e,{item:r}=e,{g:c}=e,{i:g}=e,{isDragging:_}=e,p,I,d,y,X,P,T=!1;qe(async()=>{de(()=>import("../chunks/svelte-drag-drop-touch.esm-bd0b41cd.js"),[]),d=(await de(()=>import("../chunks/svelte-coordinate-conversion.esm-f7309695.js"),[])).default});function v(h,w,re){l(10,_=!0),h.dataTransfer.setData("group",String(w)),h.dataTransfer.setData("item",String(re));const ie={offsetX:h.offsetX,offsetY:h.offsetY};h.dataTransfer.setData("offset",JSON.stringify(ie));const fe=h.clientX-h.target.getBoundingClientRect().left,ue=h.clientY-h.target.getBoundingClientRect().top;h.dataTransfer.setData("shifts",JSON.stringify({shiftX:fe,shiftY:ue}));let K=h.target.getBoundingClientRect();X=h.pageX-K.left-window.scrollX,P=h.pageY-K.top-window.scrollY,T=!1,y=document.createElement("div"),y.setAttribute("style","display:block; position:absolute; width:1px; height:1px"),document.body.appendChild(y),h.dataTransfer.setDragImage(y,0,0),h.dataTransfer.effectAllowed="move"}function b(h){if(l(10,_=!0),h.screenX===0&&h.screenY===0&&!T)T=!0;else{T=!1;let w=d.fromDocumentTo("local",{left:h.pageX-X,top:h.pageY-P},f);l(7,s=Math.max(gt,Math.min(u,w.left))),l(6,n=Math.max(dt,Math.min(o,w.top))),l(0,r.X=s,r),l(0,r.Y=n,r),l(0,r)}h.dataTransfer.dropEffect="move",h.stopPropagation()}function D(h){l(10,_=!1),document.body.removeChild(y),h.stopPropagation()}const z=h=>v(h,c,g);function ae(){p=this.offsetWidth,I=this.offsetHeight,l(4,p),l(5,I)}return t.$$set=h=>{"arena"in h&&l(11,f=h.arena),"item"in h&&l(0,r=h.item),"g"in h&&l(1,c=h.g),"i"in h&&l(2,g=h.i),"isDragging"in h&&l(10,_=h.isDragging),"$$scope"in h&&l(12,a=h.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&l(7,s=(r==null?void 0:r.X)||0),t.$$.dirty&1&&l(6,n=(r==null?void 0:r.Y)||0),t.$$.dirty&2064&&(u=(f==null?void 0:f.clientWidth)-p||400),t.$$.dirty&2080&&(o=(f==null?void 0:f.clientHeight)-I||400)},[r,c,g,v,p,I,n,s,b,D,_,f,a,i,z,ae]}class mt extends U{constructor(e){super();j(this,e,ht,_t,G,{arena:11,item:0,g:1,i:2,isDragging:10,dragstart:3})}get dragstart(){return this.$$.ctx[3]}}function Me(t,e,l){const s=t.slice();return s[11]=e[l],s[13]=l,s}function Se(t,e,l){const s=t.slice();return s[15]=e[l],s[16]=e,s[17]=l,s}function Pe(t,e,l){const s=t.slice();return s[11]=e[l],s[13]=l,s}function Ae(t,e,l){const s=t.slice();return s[15]=e[l],s[17]=l,s}function Ve(t){let e,l=t[15].name+"",s,n,u=t[15].X+"",o,i,a=t[15].Y+"",f;return{c(){e=W("li"),s=k(l),n=N(),o=k(u),i=k(","),f=k(a)},l(r){e=M(r,"LI",{});var c=V(e);s=E(c,l),n=O(c),o=E(c,u),i=E(c,","),f=E(c,a),c.forEach(C)},m(r,c){S(r,e,c),m(e,s),m(e,n),m(e,o),m(e,i),m(e,f)},p(r,c){c&1&&l!==(l=r[15].name+"")&&H(s,l),c&1&&u!==(u=r[15].X+"")&&H(o,u),c&1&&a!==(a=r[15].Y+"")&&H(f,a)},d(r){r&&C(e)}}}function Ne(t){let e,l=t[11].name+"",s,n,u,o=t[11].items,i=[];for(let a=0;a<o.length;a+=1)i[a]=Ve(Ae(t,o,a));return{c(){e=W("b"),s=k(l),n=N(),u=W("ul");for(let a=0;a<i.length;a+=1)i[a].c()},l(a){e=M(a,"B",{});var f=V(e);s=E(f,l),f.forEach(C),n=O(a),u=M(a,"UL",{});var r=V(u);for(let c=0;c<i.length;c+=1)i[c].l(r);r.forEach(C)},m(a,f){S(a,e,f),m(e,s),S(a,n,f),S(a,u,f);for(let r=0;r<i.length;r+=1)i[r].m(u,null)},p(a,f){if(f&1&&l!==(l=a[11].name+"")&&H(s,l),f&1){o=a[11].items;let r;for(r=0;r<o.length;r+=1){const c=Ae(a,o,r);i[r]?i[r].p(c,f):(i[r]=Ve(c),i[r].c(),i[r].m(u,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}},d(a){a&&C(e),a&&C(n),a&&C(u),pe(i,a)}}}function pt(t){let e=t[15].name+"",l;return{c(){l=k(e)},l(s){l=E(s,e)},m(s,n){S(s,l,n)},p(s,n){n&1&&e!==(e=s[15].name+"")&&H(l,e)},d(s){s&&C(l)}}}function bt(t){let e,l,s,n,u,o,i,a;return{c(){e=W("div"),l=k("Group "),s=k(t[13]),n=W("br"),u=N(),o=W("span"),i=k("Item "),a=k(t[17]),this.h()},l(f){e=M(f,"DIV",{slot:!0});var r=V(e);l=E(r,"Group "),s=E(r,t[13]),n=M(r,"BR",{}),u=O(r),o=M(r,"SPAN",{});var c=V(o);i=E(c,"Item "),a=E(c,t[17]),c.forEach(C),r.forEach(C),this.h()},h(){q(e,"slot","footer")},m(f,r){S(f,e,r),m(e,l),m(e,s),m(e,n),m(e,u),m(e,o),m(o,i),m(o,a)},p:ve,d(f){f&&C(e)}}}function vt(t){let e,l;return e=new rt({props:{rectColor:t[15].color,$$slots:{footer:[bt],default:[pt]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,n){se(e,s,n),l=!0},p(s,n){const u={};n&1&&(u.rectColor=s[15].color),n&1048577&&(u.$$scope={dirty:n,ctx:s}),e.$set(u)},i(s){l||(Y(e.$$.fragment,s),l=!0)},o(s){R(e.$$.fragment,s),l=!1},d(s){oe(e,s)}}}function Oe(t){let e,l,s,n;function u(a){t[4](a,t[15],t[16],t[17])}function o(a){t[5](a)}let i={g:t[13],i:t[17],arena:t[14],$$slots:{default:[vt]},$$scope:{ctx:t}};return t[15]!==void 0&&(i.item=t[15]),t[2]!==void 0&&(i.isDragging=t[2]),e=new mt({props:i}),J.push(()=>_e(e,"item",u)),J.push(()=>_e(e,"isDragging",o)),e.$on("simulate",t[3]),{c(){le(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,f){se(e,a,f),n=!0},p(a,f){t=a;const r={};f&16384&&(r.arena=t[14]),f&1048577&&(r.$$scope={dirty:f,ctx:t}),!l&&f&1&&(l=!0,r.item=t[15],ge(()=>l=!1)),!s&&f&4&&(s=!0,r.isDragging=t[2],ge(()=>s=!1)),e.$set(r)},i(a){n||(Y(e.$$.fragment,a),n=!0)},o(a){R(e.$$.fragment,a),n=!1},d(a){oe(e,a)}}}function Dt(t){let e,l,s=t[11].items,n=[];for(let o=0;o<s.length;o+=1)n[o]=Oe(Se(t,s,o));const u=o=>R(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=N()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);e=O(o)},m(o,i){for(let a=0;a<n.length;a+=1)n[a].m(o,i);S(o,e,i),l=!0},p(o,i){if(i&16397){s=o[11].items;let a;for(a=0;a<s.length;a+=1){const f=Se(o,s,a);n[a]?(n[a].p(f,i),Y(n[a],1)):(n[a]=Oe(f),n[a].c(),Y(n[a],1),n[a].m(e.parentNode,e))}for(he(),a=s.length;a<n.length;a+=1)u(a);me()}},i(o){if(!l){for(let i=0;i<s.length;i+=1)Y(n[i]);l=!0}},o(o){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)R(n[i]);l=!1},d(o){pe(n,o),o&&C(e)}}}function ze(t){let e,l,s;function n(o){t[6](o)}let u={g:t[13],$$slots:{default:[Dt,({arena:o})=>({14:o}),({arena:o})=>o?16384:0]},$$scope:{ctx:t}};return t[0]!==void 0&&(u.groups=t[0]),e=new lt({props:u}),J.push(()=>_e(e,"groups",n)),{c(){le(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){se(e,o,i),s=!0},p(o,i){const a={};i&1064965&&(a.$$scope={dirty:i,ctx:o}),!l&&i&1&&(l=!0,a.groups=o[0],ge(()=>l=!1)),e.$set(a)},i(o){s||(Y(e.$$.fragment,o),s=!0)},o(o){R(e.$$.fragment,o),s=!1},d(o){oe(e,o)}}}function kt(t){let e,l,s=t[0],n=[];for(let o=0;o<s.length;o+=1)n[o]=ze(Me(t,s,o));const u=o=>R(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=F()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);e=F()},m(o,i){for(let a=0;a<n.length;a+=1)n[a].m(o,i);S(o,e,i),l=!0},p(o,i){if(i&16397){s=o[0];let a;for(a=0;a<s.length;a+=1){const f=Me(o,s,a);n[a]?(n[a].p(f,i),Y(n[a],1)):(n[a]=ze(f),n[a].c(),Y(n[a],1),n[a].m(e.parentNode,e))}for(he(),a=s.length;a<n.length;a+=1)u(a);me()}},i(o){if(!l){for(let i=0;i<s.length;i+=1)Y(n[i]);l=!0}},o(o){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)R(n[i]);l=!1},d(o){pe(n,o),o&&C(e)}}}function Et(t){let e,l,s,n,u=t[0],o=[];for(let f=0;f<u.length;f+=1)o[f]=Ne(Pe(t,u,f));function i(f){t[7](f)}let a={$$slots:{default:[kt]},$$scope:{ctx:t}};return t[1]!==void 0&&(a.canvas=t[1]),l=new ut({props:a}),J.push(()=>_e(l,"canvas",i)),{c(){for(let f=0;f<o.length;f+=1)o[f].c();e=N(),le(l.$$.fragment)},l(f){for(let r=0;r<o.length;r+=1)o[r].l(f);e=O(f),ne(l.$$.fragment,f)},m(f,r){for(let c=0;c<o.length;c+=1)o[c].m(f,r);S(f,e,r),se(l,f,r),n=!0},p(f,[r]){if(r&1){u=f[0];let g;for(g=0;g<u.length;g+=1){const _=Pe(f,u,g);o[g]?o[g].p(_,r):(o[g]=Ne(_),o[g].c(),o[g].m(e.parentNode,e))}for(;g<o.length;g+=1)o[g].d(1);o.length=u.length}const c={};r&1048581&&(c.$$scope={dirty:r,ctx:f}),!s&&r&2&&(s=!0,c.canvas=f[1],ge(()=>s=!1)),l.$set(c)},i(f){n||(Y(l.$$.fragment,f),n=!0)},o(f){R(l.$$.fragment,f),n=!1},d(f){pe(o,f),f&&C(e),oe(l,f)}}}function Ct(t,e,l){let s,n,u,o;qe(async()=>{de(()=>import("../chunks/svelte-drag-drop-touch.esm-bd0b41cd.js"),[]),n=await de(()=>import("../chunks/index-7e367f70.js"),[]),console.log({d3:n});let _=10,p,I=.025,d=.15;u=({nodes:y,boxWidth:X,boxHeight:P})=>{p&&(p==null||p.stop()),p=n.forceSimulation(y).force("charge",n.forceManyBody().strength(_)).force("center",n.forceCenter(0,0).strength(1e-6)).force("collision",n.forceCollide().radius(b=>{let D=y[b.index].radius?y[b.index].radius:1;return console.log({r:D}),y[b.index].radius?y[b.index].radius:1})).force("bounds",v).alphaDecay(I).alphaMin(d).on("tick",T);function T(){o||(y=y)}function v(){for(let b of y)b.x=Math.max(0,Math.min(X-((b==null?void 0:b.width)||0),b.x)),b.y=Math.max(0,Math.min(P-((b==null?void 0:b.height)||0),b.y))}}});let{groups:i=[{name:"Fruit basket 1",items:[{name:"Orange",color:"orange"},{name:"Pineapple",color:"yellow"}]},{name:"Fruit basket 2",items:[{name:"Banana",color:"blue"},{name:"Apple",color:"red"}]}]}=e;function a(_){console.log("Handle Simulate!",{event:_});const{new_group:p,boxWidth:I,boxHeight:d}=_.detail;u({nodes:i[p].items,boxWidth:I,boxHeight:d})}function f(_,p,I,d){I[d]=_,l(0,i)}function r(_){o=_,l(2,o)}function c(_){i=_,l(0,i)}function g(_){s=_,l(1,s)}return t.$$set=_=>{"groups"in _&&l(0,i=_.groups)},[i,s,o,a,f,r,c,g]}class yt extends U{constructor(e){super();j(this,e,Ct,Et,G,{groups:0})}}function Xt(t){let e,l;return e=new yt({}),{c(){le(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,n){se(e,s,n),l=!0},p:ve,i(s){l||(Y(e.$$.fragment,s),l=!0)},o(s){R(e.$$.fragment,s),l=!1},d(s){oe(e,s)}}}class wt extends U{constructor(e){super();j(this,e,null,Xt,G,{})}}export{wt as default};
